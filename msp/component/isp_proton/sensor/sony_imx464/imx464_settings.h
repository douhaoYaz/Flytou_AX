/**********************************************************************************
 *
 * Copyright (c) 2019-2020 Beijing AXera Technology Co., Ltd. All Rights Reserved.
 *
 * This source file is the property of Beijing AXera Technology Co., Ltd. and
 * may not be copied or distributed in any isomorphic form without the prior
 * written consent of Beijing AXera Technology Co., Ltd.
 *
 **********************************************************************************/

#ifndef __SENSOR_IMX464_SETTINGS_H__
#define __SENSOR_IMX464_SETTINGS_H__

#include "ax_sensor_struct.h"
#include "isp_sensor_internal.h"

#define IMX464_SLAVE_ADDR       (0x1a) /**< i2c slave address of the imx464 camera sensor */
#define IMX464_SENSOR_CHIP_ID   (0x0464)
#define IMX464_ADDR_BYTE        (2)
#define IMX464_DATA_BYTE        (1)
#define IMX464_SWAP_BYTES       (1)

#define     IMX464_FDG_SEL              (0x3019)  /* FDG_SEL[0] */   /* 1:HCG,  0:LCG  */

/* Exposure control related registers */
#define     IMX464_SHR0_L               (0x3058)  /*  SHR0[7:0]  */
#define     IMX464_SHR0_M               (0x3059)  /*  SHR0[15:8] */
#define     IMX464_SHR0_H               (0x305A)  /*  SHR0[19:16] */

#define     IMX464_SHR1_L               (0x305C)  /*  SHR1[7:0]  */
#define     IMX464_SHR1_M               (0x305D)  /*  SHR1[15:8] */
#define     IMX464_SHR1_H               (0x305E)  /*  SHR1[19:16] */

#define     IMX464_RHS1_L               (0x3068)  /*  RHS1[7:0]  */
#define     IMX464_RHS1_M               (0x3069)  /*  RHS1[15:8] */
#define     IMX464_RHS1_H               (0x306A)  /*  RHS1[19:16] */

#define     IMX464_GAIN_L               (0x30E8)  /* GAIN[7:0], gain setting of the LEF */
#define     IMX464_GAIN_H               (0x30E9)  /* GAIN[2:0], gain setting of the LEF */
#define     IMX464_GAIN1_L              (0x30EA)  /* GAIN[7:0], gain setting of the SEF1 */
#define     IMX464_GAIN1_H              (0x30EB)  /* GAIN[2:0], gain setting of the SEF1 */

#define     IMX464_VMAX_L               (0x3030)  /* VMAX[7:0] */
#define     IMX464_VMAX_M               (0x3031)  /* VMAX[15:8] */
#define     IMX464_VMAX_H               (0x3032)  /* VMAX[19:16] */

#define     IMX464_HMAX_L               (0x3034)  /* HMAX[7:0] */
#define     IMX464_HMAX_H               (0x3035)  /* HMAX[11:8] */

/* ong frame and medium frame line gap */
#define     IMX464_L2S_LINEGAP_MAX      (1022)  /* within support linecap max val */
#define     IMX464_L2S_LINEGAP_CALC(a)  ((a - 3) / 2 + 1)  /* (rhs1 - 3)/2+1 */

typedef struct IMX464_PARAMS_S {
    AX_U32 hmax;
    AX_U32 vmax;
    AX_U32 rhs1_max;
    AX_F32 line_period;
    AX_U32 line_period_fp;    /* U22.10 */
    AX_F32 pre_ratio;
    AX_U32 pre_vmax;
} IMX464_PARAMS;

typedef enum {
    E_IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_10BIT_SDR_25FPS,
    E_IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_10BIT_SDR_30FPS,
    E_IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_12BIT_SDR_25FPS,      //sdr 12bit@25fps
    E_IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_12BIT_SDR_30FPS,      //sdr 12bit@30fps
    E_IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1520_10BIT_HDR2DOL_25FPS,
    E_IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1520_10BIT_HDR2DOL_30FPS,
    E_IMX464_WINDOWCROP_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1522_12BIT_HDR2DOL_25FPS,  //hdr 12bit@25fps
    E_IMX464_WINDOWCROP_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1522_12BIT_HDR2DOL_30FPS,  //hdr 12bit@30fps
    IMX464_SETTTING_SEL_MAX
} IMX464_SETTING_SEL_E;


static camera_i2c_reg_array IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_10BIT_SDR_25FPS[] = {
    /* 30fps VMAX 0x672-> 25fps VMAX 0x7BC */
    {0x300C, 0x3B},  // BCWAIT_TIME[7:0]
    {0x300D, 0x2A},  // CPWAIT_TIME[7:0]
    {0x3030, 0xBC},  // VMAX[19:0]
    {0x3031, 0x07},  //
    {0x3034, 0xDC},  // HMAX[15:0]
    {0x3035, 0x05},  // 2EEh to 5DCh
    {0x3050, 0x00},  // ADBIT[0]
    {0x3058, 0x94},  // SHR0[19:0]
    {0x3059, 0x02},  //
    {0x30BE, 0x5E},  // -
    {0x30E8, 0x14},  // GAIN[10:0]
    {0x314C, 0x29},  // INCKSEL1[8:0]
    {0x314D, 0x01},  //
    {0x315A, 0x06},  // INCKSEL2[1:0]
    {0x3168, 0xA0},  // INCKSEL3[7:0]
    {0x316A, 0x7E},  // INCKSEL4[1:0]
    {0x319D, 0x00},  // MDBIT
    {0x319E, 0x02},  // SYS_MODE[1:0]
    {0x31A1, 0x00},  // XVS_DRV[1:0]
    {0x3288, 0x22},  // -
    {0x328A, 0x02},  // -
    {0x328C, 0xA2},  // -
    {0x328E, 0x22},  // -
    {0x3415, 0x27},  // -
    {0x3418, 0x27},  // -
    {0x3428, 0xFE},  // -
    {0x349E, 0x6A},  // -
    {0x34A2, 0x9A},  // -
    {0x34A4, 0x8A},  // -
    {0x34A6, 0x8E},  // -
    {0x34AA, 0xD8},  // -
    {0x35BC, 0x00},  // -
    {0x35BE, 0xFF},  // -
    {0x35CC, 0x1B},  // -
    {0x35CD, 0x00},  // -
    {0x35CE, 0x2A},  // -
    {0x35CF, 0x00},  // -
    {0x35DC, 0x07},  // -
    {0x35DE, 0x1A},  // -
    {0x35DF, 0x00},  // -
    {0x35E4, 0x2B},  // -
    {0x35E5, 0x00},  // -
    {0x35E6, 0x07},  // -
    {0x35E7, 0x01},  // -
    {0x3648, 0x01},  // -
    {0x3678, 0x01},  // -
    {0x367C, 0x69},  // -
    {0x367E, 0x69},  // -
    {0x3680, 0x69},  // -
    {0x3682, 0x69},  // -
    {0x3718, 0x1C},  // -
    {0x371D, 0x05},  // -
    {0x375D, 0x11},  // -
    {0x375E, 0x43},  // -
    {0x375F, 0x76},  // -
    {0x3760, 0x07},  // -
    {0x3768, 0x1A},  // -
    {0x3769, 0x1A},  // -
    {0x376A, 0x19},  // -
    {0x376B, 0x19},  // -
    {0x376C, 0x17},  // -
    {0x376D, 0x0F},  // -
    {0x376E, 0x0B},  // -
    {0x376F, 0x0B},  // -
    {0x3770, 0x0B},  // -
    {0x3776, 0x89},  // -
    {0x3777, 0x00},  // -
    {0x3778, 0xCA},  // -
    {0x3779, 0x00},  // -
    {0x377A, 0x45},  // -
    {0x377B, 0x01},  // -
    {0x377C, 0x56},  // -
    {0x377D, 0x02},  // -
    {0x377E, 0xFE},  // -
    {0x377F, 0x03},  // -
    {0x3780, 0xFE},  // -
    {0x3781, 0x05},  // -
    {0x3782, 0xFE},  // -
    {0x3783, 0x06},  // -
    {0x3784, 0x7F},  // -
    {0x3788, 0x1F},  // -
    {0x378A, 0xCA},  // -
    {0x378B, 0x00},  // -
    {0x378C, 0x45},  // -
    {0x378D, 0x01},  // -
    {0x378E, 0x56},  // -
    {0x378F, 0x02},  // -
    {0x3790, 0xFE},  // -
    {0x3791, 0x03},  // -
    {0x3792, 0xFE},  // -
    {0x3793, 0x05},  // -
    {0x3794, 0xFE},  // -
    {0x3795, 0x06},  // -
    {0x3796, 0x7F},  // -
    {0x3798, 0xBF},  // -
    {0x3A18, 0x7F},  // TCLKPOST[9:0]
    {0x3A1A, 0x37},  // TCLKPREPARE[9:0]
    {0x3A1C, 0x37},  // TCLKTRAIL[9:0]
    {0x3A1E, 0xF7},  // TCLKZERO[9:0]
    {0x3A1F, 0x00},  //
    {0x3A20, 0x3F},  // THSPREPARE[9:0]
    {0x3A22, 0x6F},  // THSZERO[9:0]
    {0x3A24, 0x3F},  // THSTRAIL[9:0]
    {0x3A26, 0x5F},  // THSEXIT[9:0]
    {0x3A28, 0x2F},  // TLPX[9:0]
    {0x3A00, 0x11},

};

static camera_i2c_reg_array IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_10BIT_SDR_30FPS[] = {
    /*
    IMX464LQR All-pixel scan CSI-2_4lane 24MHz AD:10bit Output:10bit 891Mbps Master Mode LCG Mode 60fps "to 30fps" Integration Time 10ms Gain:6dB
    Tool ver : Ver5.0
    */
    {0x300C, 0x3B},  // BCWAIT_TIME[7:0]
    {0x300D, 0x2A},  // CPWAIT_TIME[7:0]
    {0x3030, 0x72},  // VMAX[19:0]
    {0x3031, 0x06},  //
    {0x3034, 0xDC},  // HMAX[15:0]
    {0x3035, 0x05},  // 2EEh to 5DCh
    {0x3050, 0x00},  // ADBIT[0]
    {0x3058, 0x94},  // SHR0[19:0]
    {0x3059, 0x02},  //
    {0x30BE, 0x5E},  // -
    {0x30E8, 0x14},  // GAIN[10:0]
    {0x314C, 0x29},  // INCKSEL1[8:0]
    {0x314D, 0x01},  //
    {0x315A, 0x06},  // INCKSEL2[1:0]
    {0x3168, 0xA0},  // INCKSEL3[7:0]
    {0x316A, 0x7E},  // INCKSEL4[1:0]
    {0x319D, 0x00},  // MDBIT
    {0x319E, 0x02},  // SYS_MODE[1:0]
    {0x31A1, 0x00},  // XVS_DRV[1:0]
    {0x3288, 0x22},  // -
    {0x328A, 0x02},  // -
    {0x328C, 0xA2},  // -
    {0x328E, 0x22},  // -
    {0x3415, 0x27},  // -
    {0x3418, 0x27},  // -
    {0x3428, 0xFE},  // -
    {0x349E, 0x6A},  // -
    {0x34A2, 0x9A},  // -
    {0x34A4, 0x8A},  // -
    {0x34A6, 0x8E},  // -
    {0x34AA, 0xD8},  // -
    {0x35BC, 0x00},  // -
    {0x35BE, 0xFF},  // -
    {0x35CC, 0x1B},  // -
    {0x35CD, 0x00},  // -
    {0x35CE, 0x2A},  // -
    {0x35CF, 0x00},  // -
    {0x35DC, 0x07},  // -
    {0x35DE, 0x1A},  // -
    {0x35DF, 0x00},  // -
    {0x35E4, 0x2B},  // -
    {0x35E5, 0x00},  // -
    {0x35E6, 0x07},  // -
    {0x35E7, 0x01},  // -
    {0x3648, 0x01},  // -
    {0x3678, 0x01},  // -
    {0x367C, 0x69},  // -
    {0x367E, 0x69},  // -
    {0x3680, 0x69},  // -
    {0x3682, 0x69},  // -
    {0x3718, 0x1C},  // -
    {0x371D, 0x05},  // -
    {0x375D, 0x11},  // -
    {0x375E, 0x43},  // -
    {0x375F, 0x76},  // -
    {0x3760, 0x07},  // -
    {0x3768, 0x1A},  // -
    {0x3769, 0x1A},  // -
    {0x376A, 0x19},  // -
    {0x376B, 0x19},  // -
    {0x376C, 0x17},  // -
    {0x376D, 0x0F},  // -
    {0x376E, 0x0B},  // -
    {0x376F, 0x0B},  // -
    {0x3770, 0x0B},  // -
    {0x3776, 0x89},  // -
    {0x3777, 0x00},  // -
    {0x3778, 0xCA},  // -
    {0x3779, 0x00},  // -
    {0x377A, 0x45},  // -
    {0x377B, 0x01},  // -
    {0x377C, 0x56},  // -
    {0x377D, 0x02},  // -
    {0x377E, 0xFE},  // -
    {0x377F, 0x03},  // -
    {0x3780, 0xFE},  // -
    {0x3781, 0x05},  // -
    {0x3782, 0xFE},  // -
    {0x3783, 0x06},  // -
    {0x3784, 0x7F},  // -
    {0x3788, 0x1F},  // -
    {0x378A, 0xCA},  // -
    {0x378B, 0x00},  // -
    {0x378C, 0x45},  // -
    {0x378D, 0x01},  // -
    {0x378E, 0x56},  // -
    {0x378F, 0x02},  // -
    {0x3790, 0xFE},  // -
    {0x3791, 0x03},  // -
    {0x3792, 0xFE},  // -
    {0x3793, 0x05},  // -
    {0x3794, 0xFE},  // -
    {0x3795, 0x06},  // -
    {0x3796, 0x7F},  // -
    {0x3798, 0xBF},  // -
    {0x3A18, 0x7F},  // TCLKPOST[9:0]
    {0x3A1A, 0x37},  // TCLKPREPARE[9:0]
    {0x3A1C, 0x37},  // TCLKTRAIL[9:0]
    {0x3A1E, 0xF7},  // TCLKZERO[9:0]
    {0x3A1F, 0x00},  //
    {0x3A20, 0x3F},  // THSPREPARE[9:0]
    {0x3A22, 0x6F},  // THSZERO[9:0]
    {0x3A24, 0x3F},  // THSTRAIL[9:0]
    {0x3A26, 0x5F},  // THSEXIT[9:0]
    {0x3A28, 0x2F},  // TLPX[9:0]
    {0x3A00, 0x11},

};

static camera_i2c_reg_array IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1520_10BIT_HDR2DOL_25FPS[] = {
    /*
    IMX464LQR All-pixel scan CSI-2_4lane 24MHz AD:10bit Output:10bit 1188Mbps Master Mode LCG Mode DOL HDR 2frame VC 25fps Integration Time LEF:9.993ms SEF:0.997ms Gain:6dB
    Ver5.0
    */
    {0x300C, 0x3B},  // BCWAIT_TIME[7:0]
    {0x300D, 0x2A},  // CPWAIT_TIME[7:0]
    {0x3030, 0x9A},  // VMAX[19:0]
    {0x3031, 0x0B},  //
    {0x3034, 0xF4},  // HMAX[15:0]
    {0x3035, 0x01},  //
    {0x3048, 0x01},  // WDMODE[0]
    {0x3049, 0x01},  // WDSEL[1:0]
    {0x304A, 0x04},  // WD_SET1[2:0]
    {0x304B, 0x04},  // WD_SET2[3:0]
    {0x304C, 0x13},  // OPB_SIZE_V[5:0]
    {0x304D, 0x00},  // RAMPSHSWSEL
    {0x3050, 0x00},  // ADBIT[0]
    {0x3058, 0x68},  // SHR0[19:0]
    {0x3059, 0x11},  //
    {0x3068, 0x9D},  // RHS1[19:0]
    {0x30BE, 0x5E},  // -
    {0x30E8, 0x14},  // GAIN[10:0]
    {0x314C, 0xC6},  // INCKSEL1[8:0]
    {0x315A, 0x02},  // INCKSEL2[1:0]
    {0x3168, 0xA0},  // INCKSEL3[7:0]
    {0x316A, 0x7E},  // INCKSEL4[1:0]
    {0x319D, 0x00},  // MDBIT
    {0x31A1, 0x00},  // XVS_DRV[1:0]
    {0x31D7, 0x01},  // XVSMSKCNT_INT[1:0]
    {0x3288, 0x22},  // -
    {0x328A, 0x02},  // -
    {0x328C, 0xA2},  // -
    {0x328E, 0x22},  // -
    {0x3415, 0x27},  // -
    {0x3418, 0x27},  // -
    {0x3428, 0xFE},  // -
    {0x349E, 0x6A},  // -
    {0x34A2, 0x9A},  // -
    {0x34A4, 0x8A},  // -
    {0x34A6, 0x8E},  // -
    {0x34AA, 0xD8},  // -
    {0x35BC, 0x00},  // -
    {0x35BE, 0xFF},  // -
    {0x35CC, 0x1B},  // -
    {0x35CD, 0x00},  // -
    {0x35CE, 0x2A},  // -
    {0x35CF, 0x00},  // -
    {0x35DC, 0x07},  // -
    {0x35DE, 0x1A},  // -
    {0x35DF, 0x00},  // -
    {0x35E4, 0x2B},  // -
    {0x35E5, 0x00},  // -
    {0x35E6, 0x07},  // -
    {0x35E7, 0x01},  // -
    {0x3648, 0x01},  // -
    {0x3678, 0x01},  // -
    {0x367C, 0x69},  // -
    {0x367E, 0x69},  // -
    {0x3680, 0x69},  // -
    {0x3682, 0x69},  // -
    {0x3718, 0x1C},  // -
    {0x371D, 0x05},  // -
    {0x375D, 0x11},  // -
    {0x375E, 0x43},  // -
    {0x375F, 0x76},  // -
    {0x3760, 0x07},  // -
    {0x3768, 0x1A},  // -
    {0x3769, 0x1A},  // -
    {0x376A, 0x19},  // -
    {0x376B, 0x19},  // -
    {0x376C, 0x17},  // -
    {0x376D, 0x0F},  // -
    {0x376E, 0x0B},  // -
    {0x376F, 0x0B},  // -
    {0x3770, 0x0B},  // -
    {0x3776, 0x89},  // -
    {0x3777, 0x00},  // -
    {0x3778, 0xCA},  // -
    {0x3779, 0x00},  // -
    {0x377A, 0x45},  // -
    {0x377B, 0x01},  // -
    {0x377C, 0x56},  // -
    {0x377D, 0x02},  // -
    {0x377E, 0xFE},  // -
    {0x377F, 0x03},  // -
    {0x3780, 0xFE},  // -
    {0x3781, 0x05},  // -
    {0x3782, 0xFE},  // -
    {0x3783, 0x06},  // -
    {0x3784, 0x7F},  // -
    {0x3788, 0x1F},  // -
    {0x378A, 0xCA},  // -
    {0x378B, 0x00},  // -
    {0x378C, 0x45},  // -
    {0x378D, 0x01},  // -
    {0x378E, 0x56},  // -
    {0x378F, 0x02},  // -
    {0x3790, 0xFE},  // -
    {0x3791, 0x03},  // -
    {0x3792, 0xFE},  // -
    {0x3793, 0x05},  // -
    {0x3794, 0xFE},  // -
    {0x3795, 0x06},  // -
    {0x3796, 0x7F},  // -
    {0x3798, 0xBF},  // -
    {0x3A00, 0x11},
    //{0x3000, 0x00},
    //wait_ms (30)
    //{0x3002, 0x00},

};

static camera_i2c_reg_array IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1520_10BIT_HDR2DOL_30FPS[] = {
    /*
    IMX464LQR All-pixel scan CSI-2_4lane 24MHz AD:10bit Output:10bit 1188Mbps Master Mode LCG Mode DOL HDR 2frame VC 30fps Integration Time LEF:10ms SEF:1.01ms Gain:6dB
    Ver5.0
    */
    {0x300C, 0x3B},  // BCWAIT_TIME[7:0]
    {0x300D, 0x2A},  // CPWAIT_TIME[7:0]
    {0x3030, 0x72},  // VMAX[19:0]
    {0x3031, 0x06},  //
    {0x3034, 0xEE},  // HMAX[15:0]
    {0x3035, 0x02},
    {0x3048, 0x01},  // WDMODE[0]
    {0x3049, 0x01},  // WDSEL[1:0]
    {0x304A, 0x04},  // WD_SET1[2:0]
    {0x304B, 0x04},  // WD_SET2[3:0]
    {0x304C, 0x13},  // OPB_SIZE_V[5:0]
    {0x304D, 0x00},  // RAMPSHSWSEL
    {0x3050, 0x00},  // ADBIT[0]
    {0x3058, 0x06},  // SHR0[19:0]
    {0x3059, 0x09},  //
    {0x3068, 0x6D},  // RHS1[19:0]
    {0x30BE, 0x5E},  // -
    {0x30E8, 0x14},  // GAIN[10:0]
    {0x314C, 0xC6},  // INCKSEL1[8:0]
    {0x315A, 0x02},  // INCKSEL2[1:0]
    {0x3168, 0xA0},  // INCKSEL3[7:0]
    {0x316A, 0x7E},  // INCKSEL4[1:0]
    {0x319D, 0x00},  // MDBIT
    {0x31A1, 0x00},  // XVS_DRV[1:0]
    {0x31D7, 0x01},  // XVSMSKCNT_INT[1:0]
    {0x3288, 0x22},  // -
    {0x328A, 0x02},  // -
    {0x328C, 0xA2},  // -
    {0x328E, 0x22},  // -
    {0x3415, 0x27},  // -
    {0x3418, 0x27},  // -
    {0x3428, 0xFE},  // -
    {0x349E, 0x6A},  // -
    {0x34A2, 0x9A},  // -
    {0x34A4, 0x8A},  // -
    {0x34A6, 0x8E},  // -
    {0x34AA, 0xD8},  // -
    {0x35BC, 0x00},  // -
    {0x35BE, 0xFF},  // -
    {0x35CC, 0x1B},  // -
    {0x35CD, 0x00},  // -
    {0x35CE, 0x2A},  // -
    {0x35CF, 0x00},  // -
    {0x35DC, 0x07},  // -
    {0x35DE, 0x1A},  // -
    {0x35DF, 0x00},  // -
    {0x35E4, 0x2B},  // -
    {0x35E5, 0x00},  // -
    {0x35E6, 0x07},  // -
    {0x35E7, 0x01},  // -
    {0x3648, 0x01},  // -
    {0x3678, 0x01},  // -
    {0x367C, 0x69},  // -
    {0x367E, 0x69},  // -
    {0x3680, 0x69},  // -
    {0x3682, 0x69},  // -
    {0x3718, 0x1C},  // -
    {0x371D, 0x05},  // -
    {0x375D, 0x11},  // -
    {0x375E, 0x43},  // -
    {0x375F, 0x76},  // -
    {0x3760, 0x07},  // -
    {0x3768, 0x1A},  // -
    {0x3769, 0x1A},  // -
    {0x376A, 0x19},  // -
    {0x376B, 0x19},  // -
    {0x376C, 0x17},  // -
    {0x376D, 0x0F},  // -
    {0x376E, 0x0B},  // -
    {0x376F, 0x0B},  // -
    {0x3770, 0x0B},  // -
    {0x3776, 0x89},  // -
    {0x3777, 0x00},  // -
    {0x3778, 0xCA},  // -
    {0x3779, 0x00},  // -
    {0x377A, 0x45},  // -
    {0x377B, 0x01},  // -
    {0x377C, 0x56},  // -
    {0x377D, 0x02},  // -
    {0x377E, 0xFE},  // -
    {0x377F, 0x03},  // -
    {0x3780, 0xFE},  // -
    {0x3781, 0x05},  // -
    {0x3782, 0xFE},  // -
    {0x3783, 0x06},  // -
    {0x3784, 0x7F},  // -
    {0x3788, 0x1F},  // -
    {0x378A, 0xCA},  // -
    {0x378B, 0x00},  // -
    {0x378C, 0x45},  // -
    {0x378D, 0x01},  // -
    {0x378E, 0x56},  // -
    {0x378F, 0x02},  // -
    {0x3790, 0xFE},  // -
    {0x3791, 0x03},  // -
    {0x3792, 0xFE},  // -
    {0x3793, 0x05},  // -
    {0x3794, 0xFE},  // -
    {0x3795, 0x06},  // -
    {0x3796, 0x7F},  // -
    {0x3798, 0xBF},  // -
    {0x3A00, 0x11},
    //{0x3000, 0x00},
    //wait_ms(30)
    //{0x3002, 0x00},

};

static camera_i2c_reg_array IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_12BIT_SDR_25FPS[] = {
    /*
    12bit 30fps->25fps
    */
    {0x300C, 0x3B},  //BCWAIT_TIME[7:0]
    {0x300D, 0x2A},  //CPWAIT_TIME[7:0]
    {0x3030, 0xBC},  //VMAX[19:0]
    {0x3031, 0x07},  //
    {0x3034, 0xDC},  //HMAX[15:0]
    {0x3035, 0x05},  //
    {0x3058, 0x83},  //SHR0[19:0]
    {0x3059, 0x04},  //
    {0x30BE, 0x5E},  //-
    {0x30E8, 0x14},  //GAIN[10:0]
    {0x314C, 0x29},  //INCKSEL1[8:0]
    {0x314D, 0x01},  //
    {0x315A, 0x06},  //INCKSEL2[1:0]
    {0x3168, 0xA0},  //INCKSEL3[7:0]
    {0x316A, 0x7E},  //INCKSEL4[1:0]
    {0x319E, 0x02},  //SYS_MODE[1:0]
    {0x31A1, 0x00},  //XVS_DRV[1:0]
    {0x3288, 0x22},  //-
    {0x328A, 0x02},  //-
    {0x328C, 0xA2},  //-
    {0x328E, 0x22},  //-
    {0x3415, 0x27},  //-
    {0x3418, 0x27},  //-
    {0x3428, 0xFE},  //-
    {0x349E, 0x6A},  //-
    {0x34A2, 0x9A},  //-
    {0x34A4, 0x8A},  //-
    {0x34A6, 0x8E},  //-
    {0x34AA, 0xD8},  //-
    {0x35BC, 0x00},  //-
    {0x35BE, 0xFF},  //-
    {0x35CC, 0x1B},  //-
    {0x35CD, 0x00},  //-
    {0x35CE, 0x2A},  //-
    {0x35CF, 0x00},  //-
    {0x35DC, 0x07},  //-
    {0x35DE, 0x1A},  //-
    {0x35DF, 0x00},  //-
    {0x35E4, 0x2B},  //-
    {0x35E5, 0x00},  //-
    {0x35E6, 0x07},  //-
    {0x35E7, 0x01},  //-
    {0x3648, 0x01},  //-
    {0x3678, 0x01},  //-
    {0x367C, 0x69},  //-
    {0x367E, 0x69},  //-
    {0x3680, 0x69},  //-
    {0x3682, 0x69},  //-
    {0x3718, 0x1C},  //-
    {0x371D, 0x05},  //-
    {0x375D, 0x11},  //-
    {0x375E, 0x43},  //-
    {0x375F, 0x76},  //-
    {0x3760, 0x07},  //-
    {0x3768, 0x1A},  //-
    {0x3769, 0x1A},  //-
    {0x376A, 0x19},  //-
    {0x376B, 0x19},  //-
    {0x376C, 0x17},  //-
    {0x376D, 0x0F},  //-
    {0x376E, 0x0B},  //-
    {0x376F, 0x0B},  //-
    {0x3770, 0x0B},  //-
    {0x3776, 0x89},  //-
    {0x3777, 0x00},  //-
    {0x3778, 0xCA},  //-
    {0x3779, 0x00},  //-
    {0x377A, 0x45},  //-
    {0x377B, 0x01},  //-
    {0x377C, 0x56},  //-
    {0x377D, 0x02},  //-
    {0x377E, 0xFE},  //-
    {0x377F, 0x03},  //-
    {0x3780, 0xFE},  //-
    {0x3781, 0x05},  //-
    {0x3782, 0xFE},  //-
    {0x3783, 0x06},  //-
    {0x3784, 0x7F},  //-
    {0x3788, 0x1F},  //-
    {0x378A, 0xCA},  //-
    {0x378B, 0x00},  //-
    {0x378C, 0x45},  //-
    {0x378D, 0x01},  //-
    {0x378E, 0x56},  //-
    {0x378F, 0x02},  //-
    {0x3790, 0xFE},  //-
    {0x3791, 0x03},  //-
    {0x3792, 0xFE},  //-
    {0x3793, 0x05},  //-
    {0x3794, 0xFE},  //-
    {0x3795, 0x06},  //-
    {0x3796, 0x7F},  //-
    {0x3798, 0xBF},  //-
    {0x3A18, 0x7F},  //TCLKPOST[9:0]
    {0x3A1A, 0x37},  //TCLKPREPARE[9:0]
    {0x3A1C, 0x37},  //TCLKTRAIL[9:0]
    {0x3A1E, 0xF7},  //TCLKZERO[9:0]
    {0x3A1F, 0x00},  //
    {0x3A20, 0x3F},  //THSPREPARE[9:0]
    {0x3A22, 0x6F},  //THSZERO[9:0]
    {0x3A24, 0x3F},  //THSTRAIL[9:0]
    {0x3A26, 0x5F},  //THSEXIT[9:0]
    {0x3A28, 0x2F},  //TLPX[9:0]
    {0x3A00, 0x11},

};

static camera_i2c_reg_array IMX464_ALLPIXEL_CSI2_4LANE_24MHZ_891MBPS_RGGB_2688x1520_12BIT_SDR_30FPS[] = {
    /*
    IMX464LQR All-pixel scan CSI-2_4lane 24MHz AD:12bit Output:12bit 891Mbps Master Mode LCG Mode 30fps Integration Time 10ms Gain:6dB
    Tool ver : Ver5.0
    */
    {0x300C, 0x3B},  //BCWAIT_TIME[7:0]
    {0x300D, 0x2A},  //CPWAIT_TIME[7:0]
    {0x3030, 0x72},  // VMAX[19:0]
    {0x3031, 0x06},  //
    {0x3034, 0xDC},  //HMAX[15:0]
    {0x3035, 0x05},  //
    {0x3058, 0x83},  //SHR0[19:0]
    {0x3059, 0x04},  //
    {0x30BE, 0x5E},  //-
    {0x30E8, 0x14},  //GAIN[10:0]
    {0x314C, 0x29},  //INCKSEL1[8:0]
    {0x314D, 0x01},  //
    {0x315A, 0x06},  //INCKSEL2[1:0]
    {0x3168, 0xA0},  //INCKSEL3[7:0]
    {0x316A, 0x7E},  //INCKSEL4[1:0]
    {0x319E, 0x02},  //SYS_MODE[1:0]
    {0x31A1, 0x00},  //XVS_DRV[1:0]
    {0x3288, 0x22},  //-
    {0x328A, 0x02},  //-
    {0x328C, 0xA2},  //-
    {0x328E, 0x22},  //-
    {0x3415, 0x27},  //-
    {0x3418, 0x27},  //-
    {0x3428, 0xFE},  //-
    {0x349E, 0x6A},  //-
    {0x34A2, 0x9A},  //-
    {0x34A4, 0x8A},  //-
    {0x34A6, 0x8E},  //-
    {0x34AA, 0xD8},  //-
    {0x35BC, 0x00},  //-
    {0x35BE, 0xFF},  //-
    {0x35CC, 0x1B},  //-
    {0x35CD, 0x00},  //-
    {0x35CE, 0x2A},  //-
    {0x35CF, 0x00},  //-
    {0x35DC, 0x07},  //-
    {0x35DE, 0x1A},  //-
    {0x35DF, 0x00},  //-
    {0x35E4, 0x2B},  //-
    {0x35E5, 0x00},  //-
    {0x35E6, 0x07},  //-
    {0x35E7, 0x01},  //-
    {0x3648, 0x01},  //-
    {0x3678, 0x01},  //-
    {0x367C, 0x69},  //-
    {0x367E, 0x69},  //-
    {0x3680, 0x69},  //-
    {0x3682, 0x69},  //-
    {0x3718, 0x1C},  //-
    {0x371D, 0x05},  //-
    {0x375D, 0x11},  //-
    {0x375E, 0x43},  //-
    {0x375F, 0x76},  //-
    {0x3760, 0x07},  //-
    {0x3768, 0x1A},  //-
    {0x3769, 0x1A},  //-
    {0x376A, 0x19},  //-
    {0x376B, 0x19},  //-
    {0x376C, 0x17},  //-
    {0x376D, 0x0F},  //-
    {0x376E, 0x0B},  //-
    {0x376F, 0x0B},  //-
    {0x3770, 0x0B},  //-
    {0x3776, 0x89},  //-
    {0x3777, 0x00},  //-
    {0x3778, 0xCA},  //-
    {0x3779, 0x00},  //-
    {0x377A, 0x45},  //-
    {0x377B, 0x01},  //-
    {0x377C, 0x56},  //-
    {0x377D, 0x02},  //-
    {0x377E, 0xFE},  //-
    {0x377F, 0x03},  //-
    {0x3780, 0xFE},  //-
    {0x3781, 0x05},  //-
    {0x3782, 0xFE},  //-
    {0x3783, 0x06},  //-
    {0x3784, 0x7F},  //-
    {0x3788, 0x1F},  //-
    {0x378A, 0xCA},  //-
    {0x378B, 0x00},  //-
    {0x378C, 0x45},  //-
    {0x378D, 0x01},  //-
    {0x378E, 0x56},  //-
    {0x378F, 0x02},  //-
    {0x3790, 0xFE},  //-
    {0x3791, 0x03},  //-
    {0x3792, 0xFE},  //-
    {0x3793, 0x05},  //-
    {0x3794, 0xFE},  //-
    {0x3795, 0x06},  //-
    {0x3796, 0x7F},  //-
    {0x3798, 0xBF},  //-
    {0x3A18, 0x7F},  //TCLKPOST[9:0]
    {0x3A1A, 0x37},  //TCLKPREPARE[9:0]
    {0x3A1C, 0x37},  //TCLKTRAIL[9:0]
    {0x3A1E, 0xF7},  //TCLKZERO[9:0]
    {0x3A1F, 0x00},  //
    {0x3A20, 0x3F},  //THSPREPARE[9:0]
    {0x3A22, 0x6F},  //THSZERO[9:0]
    {0x3A24, 0x3F},  //THSTRAIL[9:0]
    {0x3A26, 0x5F},  //THSEXIT[9:0]
    {0x3A28, 0x2F},  //TLPX[9:0]
    {0x3A00, 0x11},

};

static camera_i2c_reg_array IMX464_WINDOWCROP_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1522_12BIT_HDR2DOL_25FPS[] = {
    /*
    IMX464LQR Window cropping 2688x1522 CSI-2_4lane 24MHz AD:12bit Output:12bit 1188Mbps Master Mode LCG Mode DOL HDR 2frame VC 25fps Integration Time LEF:10ms SEF:1.01ms Gain:6dB
    Ver5.0
    */
    {0x300C,0x3B},  //BCWAIT_TIME[7:0]
    {0x300D,0x2A},  //CPWAIT_TIME[7:0]
    {0x3018,0x04},  //WINMODE[3:0]
    {0x302C,0x30},  //HTRIMMING_START[11:0]
    {0x302E,0x80},  //HNUM[11:0]
    {0x3030,0xA4},  //VMAX[19:0]
    {0x3031,0x06},  //
    {0x3032,0x00},  //
    {0x3034,0x69},  //HMAX[11:0]
    {0x3035,0x03},  //
    {0x3048,0x01},  //WDMODE[0]
    {0x3049,0x01},  //WDSEL[1:0]
    {0x304A,0x04},  //WD_SET1[2:0]
    {0x304B,0x04},  //WD_SET2[3:0]
    {0x304C,0x13},  //OPB_SIZE_V[5:0]
    {0x304D,0x00},  //RAMPSHSWSEL
    {0x3056,0xF2},  //Y_OUT_SIZE[12:0]
    {0x3057,0x05},  //
    {0x3058,0x9A},  //SHR0[19:0]
    {0x3059,0x0B},  //
    {0x3068,0x6D},  //RHS1[19:0]
    {0x3074,0x44},  //AREA3_ST_ADR_1[12:0]
    {0x3076,0xF2},  //AREA3_WIDTH_1[12:0]
    {0x3077,0x05},  //
    {0x30BE,0x5E},  //-
    {0x30C6,0x00},  //BLACK_OFSET_ADR[12:0]
    {0x30CE,0x00},  //UNRD_LINE_MAX[12:0]
    {0x30D8,0x3C},  //UNREAD_ED_ADR[12:0]
    {0x30E8,0x14},  //GAIN[10:0]
    {0x314C,0xC6},  //INCKSEL1[8:0]
    {0x315A,0x02},  //INCKSEL2[1:0]
    {0x3168,0xA0},  //INCKSEL3[7:0]
    {0x316A,0x7E},  //INCKSEL4[1:0]
    {0x31A1,0x00},  //XVS_DRV[1:0]
    {0x31D7,0x01},  //XVSMSKCNT_INT[1:0]
    {0x3288,0x22},  //-
    {0x328A,0x02},  //-
    {0x328C,0xA2},  //-
    {0x328E,0x22},  //-
    {0x3415,0x27},  //-
    {0x3418,0x27},  //-
    {0x3428,0xFE},  //-
    {0x349E,0x6A},  //-
    {0x34A2,0x9A},  //-
    {0x34A4,0x8A},  //-
    {0x34A6,0x8E},  //-
    {0x34AA,0xD8},  //-
    {0x35BC,0x00},  //-
    {0x35BE,0xFF},  //-
    {0x35CC,0x1B},  //-
    {0x35CD,0x00},  //-
    {0x35CE,0x2A},  //-
    {0x35CF,0x00},  //-
    {0x35DC,0x07},  //-
    {0x35DE,0x1A},  //-
    {0x35DF,0x00},  //-
    {0x35E4,0x2B},  //-
    {0x35E5,0x00},  //-
    {0x35E6,0x07},  //-
    {0x35E7,0x01},  //-
    {0x3648,0x01},  //-
    {0x3678,0x01},  //-
    {0x367C,0x69},  //-
    {0x367E,0x69},  //-
    {0x3680,0x69},  //-
    {0x3682,0x69},  //-
    {0x3718,0x1C},  //-
    {0x371D,0x05},  //-
    {0x375D,0x11},  //-
    {0x375E,0x43},  //-
    {0x375F,0x76},  //-
    {0x3760,0x07},  //-
    {0x3768,0x1A},  //-
    {0x3769,0x1A},  //-
    {0x376A,0x19},  //-
    {0x376B,0x19},  //-
    {0x376C,0x17},  //-
    {0x376D,0x0F},  //-
    {0x376E,0x0B},  //-
    {0x376F,0x0B},  //-
    {0x3770,0x0B},  //-
    {0x3776,0x89},  //-
    {0x3777,0x00},  //-
    {0x3778,0xCA},  //-
    {0x3779,0x00},  //-
    {0x377A,0x45},  //-
    {0x377B,0x01},  //-
    {0x377C,0x56},  //-
    {0x377D,0x02},  //-
    {0x377E,0xFE},  //-
    {0x377F,0x03},  //-
    {0x3780,0xFE},  //-
    {0x3781,0x05},  //-
    {0x3782,0xFE},  //-
    {0x3783,0x06},  //-
    {0x3784,0x7F},  //-
    {0x3788,0x1F},  //-
    {0x378A,0xCA},  //-
    {0x378B,0x00},  //-
    {0x378C,0x45},  //-
    {0x378D,0x01},  //-
    {0x378E,0x56},  //-
    {0x378F,0x02},  //-
    {0x3790,0xFE},  //-
    {0x3791,0x03},  //-
    {0x3792,0xFE},  //-
    {0x3793,0x05},  //-
    {0x3794,0xFE},  //-
    {0x3795,0x06},  //-
    {0x3796,0x7F},  //-
    {0x3798,0xBF},  //-

};

static camera_i2c_reg_array IMX464_WINDOWCROP_CSI2_4LANE_24MHZ_1188MBPS_RGGB_2688x1522_12BIT_HDR2DOL_30FPS[] = {
    /*
    IMX464LQR Window cropping 2688x1522 CSI-2_4lane 24MHz AD:12bit Output:12bit 1188Mbps Master Mode LCG Mode DOL HDR 2frame VC 30fps Integration Time LEF:10ms SEF:1.01ms Gain:6dB
    Ver5.0
    */
    {0x300C,0x3B},  //BCWAIT_TIME[7:0]
    {0x300D,0x2A},  //CPWAIT_TIME[7:0]
    {0x3018,0x04},  //WINMODE[3:0]
    {0x302C,0x30},  //HTRIMMING_START[11:0]
    {0x302E,0x80},  //HNUM[11:0]
    {0x3030,0xA4},  //VMAX[19:0]
    {0x3031,0x06},  //
    {0x3032,0x00},  //
    {0x3034,0xD7},  //HMAX[11:0]
    {0x3035,0x02},  //
    {0x3048,0x01},  //WDMODE[0]
    {0x3049,0x01},  //WDSEL[1:0]
    {0x304A,0x04},  //WD_SET1[2:0]
    {0x304B,0x04},  //WD_SET2[3:0]
    {0x304C,0x13},  //OPB_SIZE_V[5:0]
    {0x304D,0x00},  //RAMPSHSWSEL
    {0x3056,0xF2},  //Y_OUT_SIZE[12:0]
    {0x3057,0x05},  //
    {0x3058,0x06},  //SHR0[19:0]
    {0x3059,0x09},  //
    {0x3068,0x6D},  //RHS1[19:0]
    {0x3074,0x44},  //AREA3_ST_ADR_1[12:0]
    {0x3076,0xF2},  //AREA3_WIDTH_1[12:0]
    {0x3077,0x05},  //
    {0x30BE,0x5E},  //-
    {0x30C6,0x00},  //BLACK_OFSET_ADR[12:0]
    {0x30CE,0x00},  //UNRD_LINE_MAX[12:0]
    {0x30D8,0x3C},  //UNREAD_ED_ADR[12:0]
    {0x30E8,0x14},  //GAIN[10:0]
    {0x314C,0xC6},  //INCKSEL1[8:0]
    {0x315A,0x02},  //INCKSEL2[1:0]
    {0x3168,0xA0},  //INCKSEL3[7:0]
    {0x316A,0x7E},  //INCKSEL4[1:0]
    {0x31A1,0x00},  //XVS_DRV[1:0]
    {0x31D7,0x01},  //XVSMSKCNT_INT[1:0]
    {0x3288,0x22},  //-
    {0x328A,0x02},  //-
    {0x328C,0xA2},  //-
    {0x328E,0x22},  //-
    {0x3415,0x27},  //-
    {0x3418,0x27},  //-
    {0x3428,0xFE},  //-
    {0x349E,0x6A},  //-
    {0x34A2,0x9A},  //-
    {0x34A4,0x8A},  //-
    {0x34A6,0x8E},  //-
    {0x34AA,0xD8},  //-
    {0x35BC,0x00},  //-
    {0x35BE,0xFF},  //-
    {0x35CC,0x1B},  //-
    {0x35CD,0x00},  //-
    {0x35CE,0x2A},  //-
    {0x35CF,0x00},  //-
    {0x35DC,0x07},  //-
    {0x35DE,0x1A},  //-
    {0x35DF,0x00},  //-
    {0x35E4,0x2B},  //-
    {0x35E5,0x00},  //-
    {0x35E6,0x07},  //-
    {0x35E7,0x01},  //-
    {0x3648,0x01},  //-
    {0x3678,0x01},  //-
    {0x367C,0x69},  //-
    {0x367E,0x69},  //-
    {0x3680,0x69},  //-
    {0x3682,0x69},  //-
    {0x3718,0x1C},  //-
    {0x371D,0x05},  //-
    {0x375D,0x11},  //-
    {0x375E,0x43},  //-
    {0x375F,0x76},  //-
    {0x3760,0x07},  //-
    {0x3768,0x1A},  //-
    {0x3769,0x1A},  //-
    {0x376A,0x19},  //-
    {0x376B,0x19},  //-
    {0x376C,0x17},  //-
    {0x376D,0x0F},  //-
    {0x376E,0x0B},  //-
    {0x376F,0x0B},  //-
    {0x3770,0x0B},  //-
    {0x3776,0x89},  //-
    {0x3777,0x00},  //-
    {0x3778,0xCA},  //-
    {0x3779,0x00},  //-
    {0x377A,0x45},  //-
    {0x377B,0x01},  //-
    {0x377C,0x56},  //-
    {0x377D,0x02},  //-
    {0x377E,0xFE},  //-
    {0x377F,0x03},  //-
    {0x3780,0xFE},  //-
    {0x3781,0x05},  //-
    {0x3782,0xFE},  //-
    {0x3783,0x06},  //-
    {0x3784,0x7F},  //-
    {0x3788,0x1F},  //-
    {0x378A,0xCA},  //-
    {0x378B,0x00},  //-
    {0x378C,0x45},  //-
    {0x378D,0x01},  //-
    {0x378E,0x56},  //-
    {0x378F,0x02},  //-
    {0x3790,0xFE},  //-
    {0x3791,0x03},  //-
    {0x3792,0xFE},  //-
    {0x3793,0x05},  //-
    {0x3794,0xFE},  //-
    {0x3795,0x06},  //-
    {0x3796,0x7F},  //-
    {0x3798,0xBF},  //-

};

AX_S32 imx464_reset(ISP_PIPE_ID nPipeId, AX_S32 i2cDevNum);
AX_S32 imx464_reg_read(ISP_PIPE_ID nPipeId, AX_U32 addr);
AX_S32 imx464_reg_write(ISP_PIPE_ID nPipeId, AX_U32 addr, AX_U32 data);
AX_S32 imx464_write_settings(ISP_PIPE_ID nPipeId, AX_U32 setindex);
AX_U32 imx464_set_vmax(ISP_PIPE_ID nPipeId, AX_U32 vmax);
AX_U32 imx464_get_hmax(ISP_PIPE_ID nPipeId);
AX_U32 imx464_get_vmax(ISP_PIPE_ID nPipeId);
AX_U32 imx464_set_rhs1(ISP_PIPE_ID nPipeId, AX_U32 rhs1);
AX_U32 imx464_get_rhs1(ISP_PIPE_ID nPipeId);
AX_U32 imx464_set_shr1(ISP_PIPE_ID nPipeId, AX_U32 shr1);
AX_U32 imx464_get_shr1(ISP_PIPE_ID nPipeId);
AX_U32 imx464_set_shr0(ISP_PIPE_ID nPipeId, AX_U32 shr0);
AX_U32 imx464_get_shr0(ISP_PIPE_ID nPipeId);

AX_U32 imx464_sns_update_regs_table(ISP_PIPE_ID nPipeId, AX_U32 nRegsAddr, AX_U8 nRegsValue);
AX_S32 imx464_ae_get_sensor_reg_info(ISP_PIPE_ID nPipeId, AX_SNS_REGS_CFG_TABLE_T *ptSnsRegsInfo);
AX_U32 imx464_sns_refresh_all_regs_from_tbl(ISP_PIPE_ID nPipeId);

#endif
