(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ax3"],{"00b4":function(e,t,r){"use strict";r("ac1f");var a=r("23e7"),o=r("da84"),l=r("c65b"),i=r("e330"),n=r("1626"),s=r("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),m=o.Error,d=i(/./.test);a({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!n(t))return d(this,e);var r=l(t,this,e);if(null!==r&&!s(r))throw new m("RegExp exec method returned something other than an Object or null");return!!r}})},"01f8":function(e,t,r){"use strict";r("827d")},"0ca2":function(e,t,r){},"0eac":function(e,t,r){"use strict";r("b969")},2427:function(e,t,r){"use strict";r("0ca2")},"27c5":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"setting"},[r("el-container",{staticClass:"seting-container"},[r("el-aside",{attrs:{width:"150px"}},[r("div",{staticClass:"left-container"},[r("el-menu",{staticClass:"setting_menu",attrs:{router:"","default-active":e.activePath,"background-color":"#4c4c4c","text-color":"#fff","active-text-color":"#ffd04b"}},[r("el-menu-item",{attrs:{index:"/setting/system"},on:{click:function(t){return e.saveNavState("/setting/system")}}},[r("i",{staticClass:"el-icon-setting"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("系统信息")])]),r("el-menu-item",{attrs:{index:"/setting/playback"},on:{click:function(t){return e.saveNavState("/setting/playback")}}},[r("i",{staticClass:"el-icon-video-play"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("录像回放")])])],1)],1)]),r("el-main",[r("router-view")],1)],1)],1)},o=[],l={data:function(){return{activePath:"/setting/system"}},created:function(){var e=window.sessionStorage.getItem("settingActivePath");e&&(this.activePath=e),this.$router.path!==this.activePath&&this.$router.push(this.activePath)},methods:{saveNavState:function(e){window.sessionStorage.setItem("settingActivePath",e)}}},i=l,n=(r("9d5a"),r("2877")),s=Object(n["a"])(i,a,o,!1,null,"44551f55",null);t["default"]=s.exports},"41f6":function(e,t,r){},"42ea":function(e,t,r){"use strict";r("f7d6")},"4fd5":function(e,t,r){"use strict";r("41f6")},"55d3":function(e,t,r){},"5f72":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"playback_container"},[r("el-main",{staticClass:"playback_view_left_container"},[r("el-container",{staticClass:"preview_container"},[r("el-main",{ref:"axMain",staticClass:"video_container"},[r("video",{staticClass:"axVideo",attrs:{id:"myVideo",controls:"control",muted:"",playsinline:"",oncontextmenu:"return false;"},domProps:{muted:!0}})])],1)],1),r("el-aside",{staticClass:"panel_container",attrs:{width:"350px"}},[r("div",{staticClass:"panel_view"},[r("p",{directives:[{name:"show",rawName:"v-show",value:0==e.play_list.length,expression:"play_list.length == 0"}],staticClass:"notice"},[e._v("未发现录像文件")]),r("div",{},[r("input",{staticStyle:{"margin-left":"10px"},attrs:{id:"chkAll",type:"checkbox"},on:{change:function(t){return e.selectAll()}}}),e._v("全选  "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.removeSelected()}}},[e._v("删除")]),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.downloadSelected()}}},[e._v("下载")])],1),e._l(e.play_list,(function(t,a){return r("div",{key:a,class:{record_normal:!t.focus,record_play:t.focus},attrs:{for:a}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.select,expression:"item.select"}],attrs:{type:"checkbox"},domProps:{value:t.name,checked:Array.isArray(t.select)?e._i(t.select,t.name)>-1:t.select},on:{change:function(r){var a=t.select,o=r.target,l=!!o.checked;if(Array.isArray(a)){var i=t.name,n=e._i(a,i);o.checked?n<0&&e.$set(t,"select",a.concat([i])):n>-1&&e.$set(t,"select",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(t,"select",l)}}}),r("a",{on:{click:function(t){return e.play(a)}}},[e._v(e._s(t.name))]),e._v("  "),r("el-button",{staticClass:"download_btn",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.download(a)}}},[e._v("下载")])],1)}))],2)])],1)},o=[];r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("fb6a"),r("b0c0"),r("a630"),r("ac1f"),r("00b4");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function i(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function n(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,n=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return n=e.done,e},e:function(e){s=!0,l=e},f:function(){try{n||null==r["return"]||r["return"]()}finally{if(s)throw l}}}}r("2b3d"),r("9861");var s={data:function(){return{rec_threshold:17179869184,is_loaded:!1,is_loading:!1,play_list:[],cur_index:0,_fs:null}},created:function(){console.log("Playback++"),this.entry_record_files()},methods:{errorHandler:function(e){var t="An error occured(errcd): ";console.log(t+e.code)},entry_record_files:function(){var e=this;window.webkitRequestFileSystem(window.PERSISTENT,this.rec_threshold,(function(t){e._fs=t,t.root.getDirectory("ax_video",{create:!0},(function(r){var a=r.createReader();a.readEntries((function(r){if(e.play_list=[],r.length>0)for(var a=0;a<r.length;a++){var o=r[a];o.isFile&&t.root.getFile("ax_video/"+o.name,{},(function(t){t.createWriter((function(r){if(r.length>102400){var a=!1;e.is_loaded||(e.load_record_file(t.name),e.is_loaded=!0,a=!0),e.play_list.push({name:t.name,select:!1,focus:a})}else t.remove((function(){console.log(t.toURL()+" is removed")}))}),e.errorHandler)}),e.errorHandler)}}),e.errorHandler)}),e.errorHandler)}))},load_record_file:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this._fs){var r=this,a=document.getElementById("myVideo");a.pause(),a.currentTime=0,a.src=null,this._fs.root.getFile("ax_video/"+e,{},(function(e){e.file((function(e){a.src=window.URL.createObjectURL(e),t&&(a.play(),r.is_loading=!1)}))}),this.errorHandler)}},play:function(e){if(!this.is_loading&&e!=this.cur_index&&e<this.play_list.length){for(var t=0;t<this.play_list.length;t++)this.play_list[t].focus=e==t;this.is_loading=!0,this.cur_index=e,this.load_record_file(this.play_list[e].name,!0)}},download:function(e){var t=this;e<this.play_list.length&&this._fs.root.getFile("ax_video/"+this.play_list[e].name,{},(function(r){r.file((function(r){var a=window.URL.createObjectURL(r),o=document.createElement("a");o.style.display="none",o.href=a,o.download=t.play_list[e].name,o.dispatchEvent(new MouseEvent("click"))}))}),this.errorHandler)},removeSelected:function(){var e,t=[],r=n(this.play_list);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.select&&t.push(a.name)}}catch(m){r.e(m)}finally{r.f()}if(0!=t.length&&1==confirm("确定要删除文件吗？")){var o=this;this.is_loaded=!1,this.is_loading=!1,this.cur_index=0;var l=document.getElementById("myVideo");l.pause(),l.currentTime=0,l.src=null;var i,s=n(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;this._fs.root.getFile("ax_video/"+c,{},(function(e){e.remove((function(){console.log(e.toURL()+" is removed")}))}),o.errorHandler)}}catch(m){s.e(m)}finally{s.f()}this.entry_record_files()}},downloadSelected:function(){for(var e=this,t=0,r=0;r<this.play_list.length;r++)this.play_list[r].select&&function(){var a=r;setTimeout((function(){e.download(a)}),300*++t)}()},selectAll:function(){var e,t=document.getElementById("chkAll"),r=n(this.play_list);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.select=!!t.checked}}catch(o){r.e(o)}finally{r.f()}}}},c=s,m=(r("4fd5"),r("2877")),d=Object(m["a"])(c,a,o,!1,null,"4de65584",null);t["default"]=d.exports},"72d0":function(e,t,r){},"827d":function(e,t,r){},"868b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"formCameraRef",attrs:{rules:e.formCameraRules,model:e.formCamera,"label-width":"220px"}},[r("el-form-item",{attrs:{label:"工作模式:"}},[r("el-select",{model:{value:e.formCamera.camera_attr.sns_work_mode,callback:function(t){e.$set(e.formCamera.camera_attr,"sns_work_mode",t)},expression:"formCamera.camera_attr.sns_work_mode"}},e._l(e.sns_mode_options,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"旋转:"}},[r("el-select",{model:{value:e.formCamera.camera_attr.rotation,callback:function(t){e.$set(e.formCamera.camera_attr,"rotation",t)},expression:"formCamera.camera_attr.rotation"}},e._l(e.rotation_options,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"日夜模式:"}},[r("el-select",{model:{value:e.formCamera.camera_attr.daynight,callback:function(t){e.$set(e.formCamera.camera_attr,"daynight",t)},expression:"formCamera.camera_attr.daynight"}},e._l(e.daynight_options,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"开启NR:"}},[r("el-switch",{model:{value:e.formCamera.camera_attr.nr_mode,callback:function(t){e.$set(e.formCamera.camera_attr,"nr_mode",t)},expression:"formCamera.camera_attr.nr_mode"}})],1),r("el-form-item",{attrs:{label:"相机帧率:"}},[r("el-select",{model:{value:e.formCamera.camera_attr.framerate,callback:function(t){e.$set(e.formCamera.camera_attr,"framerate",t)},expression:"formCamera.camera_attr.framerate"}},e._l(e.framerate_options,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")])],1)],1)],1)},o=[],l=r("1da1"),i=(r("96cf"),{data:function(){return{sns_mode_options:[{label:"SDR",value:0},{label:"HDR",value:1}],rotation_options:[{label:"0°",value:0},{label:"90°",value:1},{label:"180°",value:2},{label:"270°",value:3}],daynight_options:[{label:"日间模式",value:0},{label:"夜间模式",value:1}],framerate_options:[{label:"25",value:25},{label:"30",value:30}],formCamera:{camera_attr:{sns_work_mode:0,rotation:0,framerate:25,daynight:0,nr_mode:!0},framerate_opts:[25,30]},formCameraRules:{}}},created:function(){console.log("camera++"),this.getInfo()},methods:{onSubmit:function(){var e=this;this.$refs.formCameraRef.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,e.$http.post("setting/camera",e.formCamera);case 5:a=t.sent,o=a.data,console.log("camera get return: ",o),200===o.meta.status?e.$message.success("修改成功"):e.$message.error("修改失败"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),e.$message.error("修改失败");case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}())},getInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("setting/camera");case 3:if(r=t.sent,a=r.data,console.log("camera get return: ",a),200===a.meta.status){for(e.formCamera.camera_attr.sns_work_mode=a.data.camera_attr.sns_work_mode,e.formCamera.camera_attr.rotation=a.data.camera_attr.rotation,e.formCamera.camera_attr.daynight=a.data.camera_attr.daynight,e.formCamera.camera_attr.framerate=a.data.camera_attr.framerate,e.formCamera.camera_attr.nr_mode=a.data.camera_attr.nr_mode,e.formCamera.framerate_opts=a.data.framerate_opts,o=[],l=0;l<e.formCamera.framerate_opts.length;l++)o.push({lable:""+e.formCamera.framerate_opts[l],value:e.formCamera.framerate_opts[l]});e.framerate_options=o}t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$message.error("获取信息失败");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}}),n=i,s=(r("2427"),r("2877")),c=Object(s["a"])(n,a,o,!1,null,"03df7341",null);t["default"]=c.exports},"8e63":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"overlay-preview-container"}),r("div",[r("el-form",{ref:"formOverlayRef",attrs:{rules:e.formOverlayRules,model:e.formOverlay,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"视频源ID"}},[r("el-select",{on:{change:e.onChangeSrcID},model:{value:e.formOverlay.video_src_info.id,callback:function(t){e.$set(e.formOverlay.video_src_info,"id",t)},expression:"formOverlay.video_src_info.id"}},e._l(e.formOverlay.video_src_opts,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"画线"}},[r("el-switch",{model:{value:e.formOverlay.drawLine.enable,callback:function(t){e.$set(e.formOverlay.drawLine,"enable",t)},expression:"formOverlay.drawLine.enable"}})],1),r("el-form-item",{attrs:{label:"","label-width":"20px"}},[r("el-form-item",{staticClass:"inline",attrs:{label:"x1:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawLine.enable},model:{value:e.formOverlay.drawLine.ptBegin[0],callback:function(t){e.$set(e.formOverlay.drawLine.ptBegin,0,t)},expression:"formOverlay.drawLine.ptBegin[0]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y1:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawLine.enable},model:{value:e.formOverlay.drawLine.ptBegin[1],callback:function(t){e.$set(e.formOverlay.drawLine.ptBegin,1,t)},expression:"formOverlay.drawLine.ptBegin[1]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"x2:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawLine.enable},model:{value:e.formOverlay.drawLine.ptEnd[0],callback:function(t){e.$set(e.formOverlay.drawLine.ptEnd,0,t)},expression:"formOverlay.drawLine.ptEnd[0]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y2:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawLine.enable},model:{value:e.formOverlay.drawLine.ptEnd[1],callback:function(t){e.$set(e.formOverlay.drawLine.ptEnd,1,t)},expression:"formOverlay.drawLine.ptEnd[1]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"线宽:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:2,max:16,disabled:!e.formOverlay.drawLine.enable},model:{value:e.formOverlay.drawLine.lineWidth,callback:function(t){e.$set(e.formOverlay.drawLine,"lineWidth",t)},expression:"formOverlay.drawLine.lineWidth"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"颜色:"}},[r("el-select",{attrs:{disabled:!e.formOverlay.drawLine.enable},model:{value:e.formOverlay.drawLine.color,callback:function(t){e.$set(e.formOverlay.drawLine,"color",t)},expression:"formOverlay.drawLine.color"}},e._l(e.colorOptions,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-form-item",{attrs:{label:"画矩形框"}},[r("el-switch",{model:{value:e.formOverlay.drawRect.enable,callback:function(t){e.$set(e.formOverlay.drawRect,"enable",t)},expression:"formOverlay.drawRect.enable"}})],1),r("el-form-item",{attrs:{label:"","label-width":"20px"}},[r("el-form-item",{staticClass:"inline",attrs:{label:"x:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawRect.enable},model:{value:e.formOverlay.drawRect.x,callback:function(t){e.$set(e.formOverlay.drawRect,"x",t)},expression:"formOverlay.drawRect.x"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawRect.enable},model:{value:e.formOverlay.drawRect.y,callback:function(t){e.$set(e.formOverlay.drawRect,"y",t)},expression:"formOverlay.drawRect.y"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"宽:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:8,max:256,disabled:!e.formOverlay.drawRect.enable},model:{value:e.formOverlay.drawRect.w,callback:function(t){e.$set(e.formOverlay.drawRect,"w",t)},expression:"formOverlay.drawRect.w"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"高:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:8,max:256,disabled:!e.formOverlay.drawRect.enable},model:{value:e.formOverlay.drawRect.h,callback:function(t){e.$set(e.formOverlay.drawRect,"h",t)},expression:"formOverlay.drawRect.h"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"线宽:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:2,max:16,disabled:!e.formOverlay.drawRect.enable},model:{value:e.formOverlay.drawRect.lineWidth,callback:function(t){e.$set(e.formOverlay.drawRect,"lineWidth",t)},expression:"formOverlay.drawRect.lineWidth"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"颜色:"}},[r("el-select",{attrs:{disabled:!e.formOverlay.drawRect.enable},model:{value:e.formOverlay.drawRect.color,callback:function(t){e.$set(e.formOverlay.drawRect,"color",t)},expression:"formOverlay.drawRect.color"}},e._l(e.colorOptions,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"inline",attrs:{label:"填充:"}},[r("el-switch",{attrs:{disabled:!e.formOverlay.drawRect.enable},model:{value:e.formOverlay.drawRect.solid,callback:function(t){e.$set(e.formOverlay.drawRect,"solid",t)},expression:"formOverlay.drawRect.solid"}})],1)],1),r("el-form-item",{attrs:{label:"画凸四边形"}},[r("el-switch",{model:{value:e.formOverlay.drawPolygon.enable,callback:function(t){e.$set(e.formOverlay.drawPolygon,"enable",t)},expression:"formOverlay.drawPolygon.enable"}})],1),r("el-form-item",{attrs:{label:"","label-width":"20px"}},[r("el-form-item",{staticClass:"inline",attrs:{label:"x1:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt0[0],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt0,0,t)},expression:"formOverlay.drawPolygon.pt0[0]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y1:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt0[1],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt0,1,t)},expression:"formOverlay.drawPolygon.pt0[1]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"x2:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt1[0],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt1,0,t)},expression:"formOverlay.drawPolygon.pt1[0]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y2:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt1[1],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt1,1,t)},expression:"formOverlay.drawPolygon.pt1[1]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"x3:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt2[0],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt2,0,t)},expression:"formOverlay.drawPolygon.pt2[0]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y3:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt2[1],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt2,1,t)},expression:"formOverlay.drawPolygon.pt2[1]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"x4:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt3[0],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt3,0,t)},expression:"formOverlay.drawPolygon.pt3[0]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y4:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.pt3[1],callback:function(t){e.$set(e.formOverlay.drawPolygon.pt3,1,t)},expression:"formOverlay.drawPolygon.pt3[1]"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"线宽:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:2,max:16,disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.lineWidth,callback:function(t){e.$set(e.formOverlay.drawPolygon,"lineWidth",t)},expression:"formOverlay.drawPolygon.lineWidth"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"颜色:"}},[r("el-select",{attrs:{disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.color,callback:function(t){e.$set(e.formOverlay.drawPolygon,"color",t)},expression:"formOverlay.drawPolygon.color"}},e._l(e.colorOptions,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"inline",attrs:{label:"填充:"}},[r("el-switch",{attrs:{disabled:!e.formOverlay.drawPolygon.enable},model:{value:e.formOverlay.drawPolygon.solid,callback:function(t){e.$set(e.formOverlay.drawPolygon,"solid",t)},expression:"formOverlay.drawPolygon.solid"}})],1)],1),r("el-form-item",{attrs:{label:"画马赛克"}},[r("el-switch",{model:{value:e.formOverlay.drawMosaic.enable,callback:function(t){e.$set(e.formOverlay.drawMosaic,"enable",t)},expression:"formOverlay.drawMosaic.enable"}})],1),r("el-form-item",{attrs:{label:"","label-width":"20px"}},[r("el-form-item",{staticClass:"inline",attrs:{label:"x:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1919,disabled:!e.formOverlay.drawMosaic.enable},model:{value:e.formOverlay.drawMosaic.x,callback:function(t){e.$set(e.formOverlay.drawMosaic,"x",t)},expression:"formOverlay.drawMosaic.x"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"y:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:0,max:1087,disabled:!e.formOverlay.drawMosaic.enable},model:{value:e.formOverlay.drawMosaic.y,callback:function(t){e.$set(e.formOverlay.drawMosaic,"y",t)},expression:"formOverlay.drawMosaic.y"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"宽:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:8,max:256,disabled:!e.formOverlay.drawMosaic.enable},model:{value:e.formOverlay.drawMosaic.w,callback:function(t){e.$set(e.formOverlay.drawMosaic,"w",t)},expression:"formOverlay.drawMosaic.w"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"高:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:8,max:256,disabled:!e.formOverlay.drawMosaic.enable},model:{value:e.formOverlay.drawMosaic.h,callback:function(t){e.$set(e.formOverlay.drawMosaic,"h",t)},expression:"formOverlay.drawMosaic.h"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"块:"}},[r("el-select",{attrs:{disabled:!e.formOverlay.drawMosaic.enable},model:{value:e.formOverlay.drawMosaic.blockSize,callback:function(t){e.$set(e.formOverlay.drawMosaic,"blockSize",t)},expression:"formOverlay.drawMosaic.blockSize"}},e._l(e.blockOptions,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),r("el-form-item",{attrs:{label:"旋转"}},[r("el-switch",{model:{value:e.formOverlay.rotation.enable,callback:function(t){e.$set(e.formOverlay.rotation,"enable",t)},expression:"formOverlay.rotation.enable"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-select",{attrs:{disabled:!e.formOverlay.rotation.enable},model:{value:e.formOverlay.rotation.rotation,callback:function(t){e.$set(e.formOverlay.rotation,"rotation",t)},expression:"formOverlay.rotation.rotation"}},e._l(e.rotationOptions,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")])],1)],1)],1)])},o=[],l=r("1da1"),i=(r("96cf"),{data:function(){return{blockOptions:[8,16,64],rotationOptions:[0,90,180,270],colorOptions:[{label:"Green",value:"0x000000"},{label:"Red",value:"0x0000FF"},{label:"Blue",value:"0x00FF00"},{label:"Purple",value:"0x00FFFF"},{label:"Yellow",value:"0xFF00FF"},{label:"Black",value:"0x008080"},{label:"White",value:"0xFF8080"},{label:"Gray",value:"0x808080"}],formOverlay:{video_src_opts:[{label:"视频源0",value:0},{label:"视频源1",value:1}],video_src_info:{id:0},drawLine:{enable:!1,ptBegin:[0,0],ptEnd:[0,0],color:"0xFF8080",lineWidth:2},drawRect:{enable:!1,x:0,y:0,w:0,h:0,solid:!0,color:"0xFF8080",lineWidth:2},drawPolygon:{enable:!1,pt0:[0,0],pt1:[0,0],pt2:[0,0],pt3:[0,0],solid:!0,color:"0xFF8080",lineWidth:2},drawMosaic:{enable:!1,x:0,y:0,w:0,h:0,blockSize:8},rotation:{enable:!1,rotation:90}},formOverlayRules:{}}},created:function(){console.log("overlay++"),this.getInfo()},methods:{onSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r="setting/overlay_"+e.formOverlay.video_src_info.id,t.next=4,e.$http.post(r,e.formOverlay);case 4:a=t.sent,o=a.data,console.log("overlay get return: ",o),200===o.meta.status?e.$message.success("修改成功"):e.$message.success("修改失败"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$message.error("修改失败");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r="setting/overlay_"+e.formOverlay.video_src_info.id,t.next=4,e.$http.get(r);case 4:a=t.sent,o=a.data,console.log("overlay get return: ",o),200===o.meta.status&&(e.formOverlay.drawLine=o.data.drawLine,e.formOverlay.drawRect=o.data.drawRect,e.formOverlay.drawPolygon=o.data.drawPolygon,e.formOverlay.drawMosaic=o.data.drawMosaic,e.formOverlay.rotation=o.data.rotation),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$message.error("获取信息失败");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},onChangeSrcID:function(e){this.getInfo()}}}),n=i,s=(r("0eac"),r("2877")),c=Object(s["a"])(n,a,o,!1,null,"566346ec",null);t["default"]=c.exports},"9d5a":function(e,t,r){"use strict";r("55d3")},a630:function(e,t,r){var a=r("23e7"),o=r("4df4"),l=r("1c7e"),i=!l((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:i},{from:o})},b969:function(e,t,r){},c37b:function(e,t,r){"use strict";r("72d0")},cb93:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"storage-container"},[r("el-form",{ref:"formStorageRef",attrs:{rules:e.formStorageRules,model:e.formStorage,"label-position":"left","label-width":"180px"}},[r("el-form-item",{attrs:{label:"【板端存储策略】"}}),r("el-form-item",{staticClass:"storage-item",attrs:{label:"启用板端存储"}},[r("el-switch",{model:{value:e.formStorage.storage.rec_actived,callback:function(t){e.$set(e.formStorage.storage,"rec_actived",t)},expression:"formStorage.storage.rec_actived"}})],1),r("el-form-item",{staticClass:"storage-item",attrs:{label:"启用循环覆盖"}},[r("el-switch",{attrs:{disabled:!e.formStorage.storage.rec_actived},model:{value:e.formStorage.storage.rec_loop_cover,callback:function(t){e.$set(e.formStorage.storage,"rec_loop_cover",t)},expression:"formStorage.storage.rec_loop_cover"}})],1),r("el-form-item",{staticClass:"storage-item",attrs:{label:"录像文件总空间(MB)"}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{readonly:!0,disabled:!e.formStorage.storage.rec_actived},model:{value:e.formStorage.storage.rec_total,callback:function(t){e.$set(e.formStorage.storage,"rec_total",t)},expression:"formStorage.storage.rec_total"}})],1)],1),r("el-form-item",{staticClass:"storage-item",attrs:{label:"单个录像文件阈值(MB)",prop:"storage.rec_threshold"}},[r("el-input-number",{attrs:{min:16,max:1024,step:64,disabled:!e.formStorage.storage.rec_actived,"controls-position":"right",placeholder:"文件阈值"},model:{value:e.formStorage.storage.rec_threshold,callback:function(t){e.$set(e.formStorage.storage,"rec_threshold",t)},expression:"formStorage.storage.rec_threshold"}})],1),r("el-form-item",{staticClass:"storage-item",attrs:{label:"录像文件数上限(个)",prop:"storage.rec_max_count"}},[r("el-input-number",{attrs:{min:1,max:100,step:10,disabled:!e.formStorage.storage.rec_actived,"controls-position":"right",placeholder:"文件数上限"},model:{value:e.formStorage.storage.rec_max_count,callback:function(t){e.$set(e.formStorage.storage,"rec_max_count",t)},expression:"formStorage.storage.rec_max_count"}})],1),r("el-form-item",{staticClass:"storage-item",attrs:{label:"存储路径",prop:"storage.rec_path"}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{readonly:!0,placeholder:"板端存储路径"},model:{value:e.formStorage.storage.rec_path,callback:function(t){e.$set(e.formStorage.storage,"rec_path",t)},expression:"formStorage.storage.rec_path"}})],1)],1),r("p",{staticStyle:{color:"indianred","margin-left":"60px"}},[e._v("注：单个录像文件阈值(MB) x 录像文件数上限(个)，须小于录像文件总空间(MB)")]),r("el-form-item",{attrs:{label:"【前端存储策略】"}}),r("el-form-item",{staticClass:"storage-item",attrs:{label:"单个录像文件阈值(MB)",prop:"rec_threshold_web"}},[r("el-input-number",{attrs:{min:16,max:1024,step:64,"controls-position":"right",placeholder:"文件阈值"},model:{value:e.formStorage.rec_threshold_web,callback:function(t){e.$set(e.formStorage,"rec_threshold_web",t)},expression:"formStorage.rec_threshold_web"}})],1),r("p",{staticStyle:{color:"indianred","margin-left":"60px"}},[e._v("注：录像回放仅涉及前端录像，下载录像时固定下载到当前用户的Downloads目录下")]),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")])],1)],1)],1)},o=[],l=r("1da1"),i=(r("96cf"),r("ac1f"),r("00b4"),{data:function(){var e=function(e,t,r){if(t.length>64)r(new Error);else{var a=/^\/(\w+\/?)+$/;a.test(t)||r(new Error)}r()};return{formStorage:{storage:{rec_actived:!0,rec_loop_cover:!0,rec_total:2560,rec_threshold:256,rec_max_count:10,rec_path:"/mnt/sdcard/"},rec_threshold_web:1024},formStorageRules:{"storage.rec_threshold":[{type:"integer",required:!0,message:"请输入板端录像文件阈值",trigger:"blur"}],"storage.rec_max_count":[{type:"integer",required:!0,message:"请输入板端录像文件数上限",trigger:"blur"}],"storage.rec_path":[{type:"string",required:!0,message:"请输入板端存储路径",trigger:"blur"},{required:!0,validator:e,message:"板端存储路径长度超过64位，或路径无效(要求Linux目录格式，如：'/mnt/sdcard/')",trigger:"blur"}],rec_threshold_web:[{type:"integer",required:!0,message:"请输入前端录像文件阈值",trigger:"blur"}]}}},created:function(){console.log("storage++"),this.getInfo()},methods:{onSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.formStorage.storage.rec_threshold,a=e.formStorage.storage.rec_max_count,!(r*a>e.formStorage.storage.rec_total)){t.next=6;break}return e.$message.error("单个录像文件阈值 x 录像文件数上限, 超过板端总录像空间！"),t.abrupt("return");case 6:return t.next=8,e.$http.post("setting/storage",e.formStorage);case 8:o=t.sent,l=o.data,console.log("storage set return: ",l),200===l.meta.status?e.$message.success("修改成功"):404===l.meta.status?e.$message.error("板端存储路径创建失败"):e.$message.error("修改失败"),window.localStorage.setItem("rec_threshold_web",e.formStorage.rec_threshold_web),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.$message.error("修改失败");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},getInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("setting/storage");case 3:r=t.sent,a=r.data,console.log("storage get return: ",a),200===a.meta.status&&(e.formStorage.storage=a.data.storage,0===e.formStorage.storage.rec_total&&(e.formStorage.storage.rec_total=2560)),o=window.localStorage.getItem("rec_threshold_web"),void 0!=o&&(e.formStorage.rec_threshold_web=o),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$message.error("获取信息失败");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}}),n=i,s=(r("42ea"),r("2877")),c=Object(s["a"])(n,a,o,!1,null,"66d85307",null);t["default"]=c.exports},f3e5:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"video-preview-container"}),r("div",[r("el-form",{ref:"formVideoRef",attrs:{rules:e.formVideoRules,model:e.formVideo,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"视频源ID"}},[r("el-select",{on:{change:e.onChangeSrcID},model:{value:e.formVideo.video_src_info.id,callback:function(t){e.$set(e.formVideo.video_src_info,"id",t)},expression:"formVideo.video_src_info.id"}},e._l(e.formVideo.video_src_opts,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"主码流0"}}),r("el-form-item",{attrs:{label:"","label-width":"20px"}},[r("el-form-item",{staticClass:"inline",attrs:{label:"编码类型:"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"true"},model:{value:e.formVideo.video0.encode_type,callback:function(t){e.$set(e.formVideo.video0,"encode_type",t)},expression:"formVideo.video0.encode_type"}},e._l(e.formVideo.encode_opts,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"inline",attrs:{label:"帧率:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:10,max:30},model:{value:e.formVideo.video0.frame_rate,callback:function(t){e.$set(e.formVideo.video0,"frame_rate",t)},expression:"formVideo.video0.frame_rate"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"码率(kbps):"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:500,max:5e3,step:500},model:{value:e.formVideo.video0.bit_rate,callback:function(t){e.$set(e.formVideo.video0,"bit_rate",t)},expression:"formVideo.video0.bit_rate"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"分辨率:"}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.formVideo.video0.resolution_index,callback:function(t){e.$set(e.formVideo.video0,"resolution_index",t)},expression:"formVideo.video0.resolution_index"}},e._l(e.formVideo.res_options_0,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-form-item",{attrs:{label:"子码流1"}}),r("el-form-item",{attrs:{label:"","label-width":"20px"}},[r("el-form-item",{staticClass:"inline",attrs:{label:"编码类型:"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"true"},model:{value:e.formVideo.video1.encode_type,callback:function(t){e.$set(e.formVideo.video1,"encode_type",t)},expression:"formVideo.video1.encode_type"}},e._l(e.formVideo.encode_opts,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"inline",attrs:{label:"帧率:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:10,max:30},model:{value:e.formVideo.video1.frame_rate,callback:function(t){e.$set(e.formVideo.video1,"frame_rate",t)},expression:"formVideo.video1.frame_rate"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"码率(kbps):"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:500,max:1e5,step:500},model:{value:e.formVideo.video1.bit_rate,callback:function(t){e.$set(e.formVideo.video1,"bit_rate",t)},expression:"formVideo.video1.bit_rate"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"分辨率:"}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.formVideo.video1.resolution_index,callback:function(t){e.$set(e.formVideo.video1,"resolution_index",t)},expression:"formVideo.video1.resolution_index"}},e._l(e.formVideo.res_options_1,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-form-item",{attrs:{label:"子码流2"}}),r("el-form-item",{attrs:{label:"","label-width":"20px"}},[r("el-form-item",{staticClass:"inline",attrs:{label:"编码类型:"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"true"},model:{value:e.formVideo.video2.encode_type,callback:function(t){e.$set(e.formVideo.video2,"encode_type",t)},expression:"formVideo.video2.encode_type"}},e._l(e.formVideo.encode_opts,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"inline",attrs:{label:"帧率:"}},[r("el-input-number",{attrs:{"controls-position":"right",min:10,max:30},model:{value:e.formVideo.video2.frame_rate,callback:function(t){e.$set(e.formVideo.video2,"frame_rate",t)},expression:"formVideo.video2.frame_rate"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"码率(kbps):"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:500,max:5e3,step:500},model:{value:e.formVideo.video2.bit_rate,callback:function(t){e.$set(e.formVideo.video2,"bit_rate",t)},expression:"formVideo.video2.bit_rate"}})],1),r("el-form-item",{staticClass:"inline",attrs:{label:"分辨率:"}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.formVideo.video2.resolution_index,callback:function(t){e.$set(e.formVideo.video2,"resolution_index",t)},expression:"formVideo.video2.resolution_index"}},e._l(e.formVideo.res_options_2,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")])],1)],1)],1)])},o=[],l=r("1da1"),i=(r("96cf"),r("e9c4"),{data:function(){return{formVideo:{video_src_opts:[{label:"视频源0",value:0},{label:"视频源1",value:1}],encode_opts:[{label:"H264",value:0},{label:"MJPEG",value:1}],res_opts:[],res_options_0:[],res_options_1:[],res_options_2:[],video_src_info:{id:0},video0:{encode_type:0,frame_rate:0,bit_rate:0,resolution_index:0},video1:{encode_type:1,frame_rate:0,bit_rate:0,resolution_index:0},video2:{encode_type:0,frame_rate:0,bit_rate:0,resolution_index:0}},formVideoRules:{}}},created:function(){console.log("video++"),this.getInfo()},methods:{onSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={},r=JSON.parse(JSON.stringify(e.formVideo)),r.video0.bit_rate=1e3*e.formVideo.video0.bit_rate,r.video1.bit_rate=1e3*e.formVideo.video1.bit_rate,r.video2.bit_rate=1e3*e.formVideo.video2.bit_rate,a="setting/video_"+e.formVideo.video_src_info.id,t.next=9,e.$http.post(a,r);case 9:o=t.sent,l=o.data,console.log("video get return: ",l),200===l.meta.status?e.$message.success("修改成功"):e.$message.success("修改失败"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.$message.error("修改失败");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},getInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r="setting/video_"+e.formVideo.video_src_info.id,t.next=4,e.$http.get(r);case 4:a=t.sent,o=a.data,console.log("video get return: ",o),200===o.meta.status&&(e.formVideo.res_opts=o.data.res_opts,e.formVideo.video0=o.data.video0,e.formVideo.video1=o.data.video1,e.formVideo.video2=o.data.video2,e.formVideo.video0.bit_rate=e.formVideo.video0.bit_rate/1e3,e.formVideo.video1.bit_rate=e.formVideo.video1.bit_rate/1e3,e.formVideo.video2.bit_rate=e.formVideo.video2.bit_rate/1e3,e.init_resolution_options()),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$message.error("获取信息失败");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},onChangeSrcID:function(e){this.getInfo()},init_resolution_options:function(){this.formVideo.res_options_0=[],this.formVideo.res_options_1=[],this.formVideo.res_options_2=[];for(var e=0;e<this.formVideo.res_opts.length;e++){var t=this.get_resolution_item(this.formVideo.res_opts[e]+"");0===e?this.formVideo.res_options_0.push(t):(this.formVideo.res_options_0.push(t),this.formVideo.res_options_1.push(t),1!=e&&this.formVideo.res_options_2.push(t))}},get_resolution_item:function(e){var t={};switch(e+""){case"0":t={label:"3840 x 2160",value:0};break;case"1":t={label:"2688 x 1520",value:1};break;case"2":t={label:"1920 x 1080",value:2};break;case"3":t={label:"1280 x 720",value:3};break;case"4":t={label:"640 x 480",value:4};break;default:break}return t}}}),n=i,s=(r("c37b"),r("2877")),c=Object(s["a"])(n,a,o,!1,null,"37f4c235",null);t["default"]=c.exports},f7d6:function(e,t,r){},fa85:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"system-container"},[r("el-form",{attrs:{"label-width":"100px"}},[r("el-form-item",{attrs:{label:"APP版本"}},[r("el-input",{attrs:{readonly:""},model:{value:e.appVersion,callback:function(t){e.appVersion=t},expression:"appVersion"}})],1),r("el-form-item",{attrs:{label:"SDK版本"}},[r("el-input",{attrs:{readonly:""},model:{value:e.sdkVersion,callback:function(t){e.sdkVersion=t},expression:"sdkVersion"}})],1)],1)],1)},o=[],l=r("1da1"),i=(r("96cf"),{data:function(){return{appVersion:"--",sdkVersion:"--"}},created:function(){console.log("system++"),this.getInfo()},methods:{getInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("setting/system");case 3:r=t.sent,a=r.data,console.log("system get return: ",a),200===a.meta.status&&(e.appVersion=a.data.appVersion,e.sdkVersion=a.data.sdkVersion),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$message.error("获取信息失败");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}}),n=i,s=(r("01f8"),r("2877")),c=Object(s["a"])(n,a,o,!1,null,"783a75d8",null);t["default"]=c.exports}}]);