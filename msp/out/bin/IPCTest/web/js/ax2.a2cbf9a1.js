(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ax2"],{"0b25":function(e,t,r){var n=r("a691"),o=r("50c4");e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length or index");return r}},"0c47":function(e,t,r){var n=r("da84"),o=r("d44e");o(n.JSON,"JSON",!0)},"143c":function(e,t,r){var n=r("74e8");n("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"145e":function(e,t,r){"use strict";var n=r("7b0b"),o=r("23cb"),i=r("50c4"),a=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),s=i(r.length),c=o(e,s),u=o(t,s),l=arguments.length>2?arguments[2]:void 0,f=a((void 0===l?s:o(l,s))-u,s-c),d=1;u<c&&c<u+f&&(d=-1,u+=f-1,c+=f-1);while(f-- >0)u in r?r[c]=r[u]:delete r[c],c+=d,u+=d;return r}},"14c3":function(e,t,r){var n=r("c6b6"),o=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"159b":function(e,t,r){var n=r("da84"),o=r("fdbc"),i=r("17c2"),a=r("9112");for(var s in o){var c=n[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(l){u.forEach=i}}},"170b":function(e,t,r){"use strict";var n=r("ebb5"),o=r("50c4"),i=r("23cb"),a=r("4840"),s=n.aTypedArray,c=n.exportTypedArrayMethod;c("subarray",(function(e,t){var r=s(this),n=r.length,c=i(e,n);return new(a(r,r.constructor))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,o((void 0===t?n:i(t,n))-c))}))},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,o=r("a640"),i=r("ae40"),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"182d":function(e,t,r){var n=r("f8cd");e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},"1bf2":function(e,t,r){var n=r("23e7"),o=r("56ef");n({target:"Reflect",stat:!0},{ownKeys:o})},"219c":function(e,t,r){"use strict";var n=r("ebb5"),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=[].sort;i("sort",(function(e){return a.call(o(this),e)}))},"23dc":function(e,t,r){var n=r("d44e");n(Math,"Math",!0)},2532:function(e,t,r){"use strict";var n=r("23e7"),o=r("5a34"),i=r("1d80"),a=r("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},"25a1":function(e,t,r){"use strict";var n=r("ebb5"),o=r("d58f").right,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("reduceRight",(function(e){return o(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2954:function(e,t,r){"use strict";var n=r("ebb5"),o=r("4840"),i=r("d039"),a=n.aTypedArray,s=n.aTypedArrayConstructor,c=n.exportTypedArrayMethod,u=[].slice,l=i((function(){new Int8Array(1).slice()}));c("slice",(function(e,t){var r=u.call(a(this),e,t),n=o(this,this.constructor),i=0,c=r.length,l=new(s(n))(c);while(c>i)l[i]=r[i++];return l}),l)},"2ca0":function(e,t,r){"use strict";var n=r("23e7"),o=r("06cf").f,i=r("50c4"),a=r("5a34"),s=r("1d80"),c=r("ab13"),u=r("c430"),l="".startsWith,f=Math.min,d=c("startsWith"),h=!u&&!d&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!h&&!d},{startsWith:function(e){var t=String(s(this));a(e);var r=i(f(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return l?l.call(t,n,r):t.slice(r,r+n.length)===n}})},3280:function(e,t,r){"use strict";var n=r("ebb5"),o=r("e58c"),i=n.aTypedArray,a=n.exportTypedArrayMethod;a("lastIndexOf",(function(e){return o.apply(i(this),arguments)}))},3410:function(e,t,r){var n=r("23e7"),o=r("d039"),i=r("7b0b"),a=r("e163"),s=r("e177"),c=o((function(){a(1)}));n({target:"Object",stat:!0,forced:c,sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},"3a7b":function(e,t,r){"use strict";var n=r("ebb5"),o=r("b727").findIndex,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(e,t,r){"use strict";var n=r("ebb5"),o=r("50c4"),i=r("182d"),a=r("7b0b"),s=r("d039"),c=n.aTypedArray,u=n.exportTypedArrayMethod,l=s((function(){new Int8Array(1).set({})}));u("set",(function(e){c(this);var t=i(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=a(e),s=o(n.length),u=0;if(s+t>r)throw RangeError("Wrong length");while(u<s)this[t+u]=n[u++]}),l)},"3fcc":function(e,t,r){"use strict";var n=r("ebb5"),o=r("b727").map,i=r("4840"),a=n.aTypedArray,s=n.aTypedArrayConstructor,c=n.exportTypedArrayMethod;c("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(i(e,e.constructor)))(t)}))}))},4160:function(e,t,r){"use strict";var n=r("23e7"),o=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"44e7":function(e,t,r){var n=r("861d"),o=r("c6b6"),i=r("b622"),a=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},"4a9b":function(e,t,r){var n=r("74e8");n("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},5319:function(e,t,r){"use strict";var n=r("d784"),o=r("825a"),i=r("7b0b"),a=r("50c4"),s=r("a691"),c=r("1d80"),u=r("8aa5"),l=r("14c3"),f=Math.max,d=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,y=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(r,n){var o=c(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!g&&m||"string"===typeof n&&-1===n.indexOf(b)){var i=r(t,e,this,n);if(i.done)return i.value}var c=o(e),h=String(this),p="function"===typeof n;p||(n=String(n));var v=c.global;if(v){var E=c.unicode;c.lastIndex=0}var _=[];while(1){var A=l(c,h);if(null===A)break;if(_.push(A),!v)break;var T=String(A[0]);""===T&&(c.lastIndex=u(h,a(c.lastIndex),E))}for(var S="",k=0,R=0;R<_.length;R++){A=_[R];for(var x=String(A[0]),O=f(d(s(A.index),h.length),0),I=[],P=1;P<A.length;P++)I.push(y(A[P]));var D=A.groups;if(p){var C=[x].concat(I,O,h);void 0!==D&&C.push(D);var L=String(n.apply(void 0,C))}else L=w(x,h,O,I,D,n);O>=k&&(S+=h.slice(k,O)+L,k=O+x.length)}return S+h.slice(k)}];function w(e,r,n,o,a,s){var c=n+e.length,u=o.length,l=v;return void 0!==a&&(a=i(a),l=p),t.call(s,l,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>u){var f=h(l/10);return 0===f?t:f<=u?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):t}s=o[l-1]}return void 0===s?"":s}))}}))},5377:function(e,t,r){var n=r("83ab"),o=r("9bf2"),i=r("ad6d"),a=r("9f7f").UNSUPPORTED_Y;n&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),o=r("5899"),i="["+o+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5a34":function(e,t,r){var n=r("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5cc6":function(e,t,r){var n=r("74e8");n("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"5f96":function(e,t,r){"use strict";var n=r("ebb5"),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=[].join;i("join",(function(e){return a.apply(o(this),arguments)}))},"60bd":function(e,t,r){"use strict";var n=r("da84"),o=r("ebb5"),i=r("e260"),a=r("b622"),s=a("iterator"),c=n.Uint8Array,u=i.values,l=i.keys,f=i.entries,d=o.aTypedArray,h=o.exportTypedArrayMethod,p=c&&c.prototype[s],v=!!p&&("values"==p.name||void 0==p.name),y=function(){return u.call(d(this))};h("entries",(function(){return f.call(d(this))})),h("keys",(function(){return l.call(d(this))})),h("values",y,!v),h(s,y,!v)},"621a":function(e,t,r){"use strict";var n=r("da84"),o=r("83ab"),i=r("a981"),a=r("9112"),s=r("e2cc"),c=r("d039"),u=r("19aa"),l=r("a691"),f=r("50c4"),d=r("0b25"),h=r("77a7"),p=r("e163"),v=r("d2bb"),y=r("241c").f,g=r("9bf2").f,m=r("81d5"),b=r("d44e"),w=r("69f3"),E=w.get,_=w.set,A="ArrayBuffer",T="DataView",S="prototype",k="Wrong length",R="Wrong index",x=n[A],O=x,I=n[T],P=I&&I[S],D=Object.prototype,C=n.RangeError,L=h.pack,F=h.unpack,N=function(e){return[255&e]},M=function(e){return[255&e,e>>8&255]},U=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},j=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return L(e,23,4)},G=function(e){return L(e,52,8)},W=function(e,t){g(e[S],t,{get:function(){return E(this)[t]}})},H=function(e,t,r,n){var o=d(r),i=E(e);if(o+t>i.byteLength)throw C(R);var a=E(i.buffer).bytes,s=o+i.byteOffset,c=a.slice(s,s+t);return n?c:c.reverse()},V=function(e,t,r,n,o,i){var a=d(r),s=E(e);if(a+t>s.byteLength)throw C(R);for(var c=E(s.buffer).bytes,u=a+s.byteOffset,l=n(+o),f=0;f<t;f++)c[u+f]=l[i?f:t-f-1]};if(i){if(!c((function(){x(1)}))||!c((function(){new x(-1)}))||c((function(){return new x,new x(1.5),new x(NaN),x.name!=A}))){O=function(e){return u(this,O),new x(d(e))};for(var z,$=O[S]=x[S],q=y(x),Y=0;q.length>Y;)(z=q[Y++])in O||a(O,z,x[z]);$.constructor=O}v&&p(P)!==D&&v(P,D);var K=new I(new O(2)),X=P.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||s(P,{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},{unsafe:!0})}else O=function(e){u(this,O,A);var t=d(e);_(this,{bytes:m.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},I=function(e,t,r){u(this,I,T),u(e,O,T);var n=E(e).byteLength,i=l(t);if(i<0||i>n)throw C("Wrong offset");if(r=void 0===r?n-i:f(r),i+r>n)throw C(k);_(this,{buffer:e,byteLength:r,byteOffset:i}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},o&&(W(O,"byteLength"),W(I,"buffer"),W(I,"byteLength"),W(I,"byteOffset")),s(I[S],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return j(H(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return j(H(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return F(H(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return F(H(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,N,t)},setUint8:function(e,t){V(this,1,e,N,t)},setInt16:function(e,t){V(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,G,t,arguments.length>2?arguments[2]:void 0)}});b(O,A),b(I,T),e.exports={ArrayBuffer:O,DataView:I}},"649e":function(e,t,r){"use strict";var n=r("ebb5"),o=r("b727").some,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},7037:function(e,t,r){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),e.exports=n},7039:function(e,t,r){var n=r("23e7"),o=r("d039"),i=r("057f").f,a=o((function(){return!Object.getOwnPropertyNames(1)}));n({target:"Object",stat:!0,forced:a},{getOwnPropertyNames:i})},7156:function(e,t,r){var n=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(e,a),e}},"72f7":function(e,t,r){"use strict";var n=r("ebb5").exportTypedArrayMethod,o=r("d039"),i=r("da84"),a=i.Uint8Array,s=a&&a.prototype||{},c=[].toString,u=[].join;o((function(){c.call({})}))&&(c=function(){return u.call(this)});var l=s.toString!=c;n("toString",c,l)},"735e":function(e,t,r){"use strict";var n=r("ebb5"),o=r("81d5"),i=n.aTypedArray,a=n.exportTypedArrayMethod;a("fill",(function(e){return o.apply(i(this),arguments)}))},"74e8":function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("83ab"),a=r("8aa7"),s=r("ebb5"),c=r("621a"),u=r("19aa"),l=r("5c6c"),f=r("9112"),d=r("50c4"),h=r("0b25"),p=r("182d"),v=r("c04e"),y=r("5135"),g=r("f5df"),m=r("861d"),b=r("7c73"),w=r("d2bb"),E=r("241c").f,_=r("a078"),A=r("b727").forEach,T=r("2626"),S=r("9bf2"),k=r("06cf"),R=r("69f3"),x=r("7156"),O=R.get,I=R.set,P=S.f,D=k.f,C=Math.round,L=o.RangeError,F=c.ArrayBuffer,N=c.DataView,M=s.NATIVE_ARRAY_BUFFER_VIEWS,U=s.TYPED_ARRAY_TAG,j=s.TypedArray,B=s.TypedArrayPrototype,G=s.aTypedArrayConstructor,W=s.isTypedArray,H="BYTES_PER_ELEMENT",V="Wrong length",z=function(e,t){var r=0,n=t.length,o=new(G(e))(n);while(n>r)o[r]=t[r++];return o},$=function(e,t){P(e,t,{get:function(){return O(this)[t]}})},q=function(e){var t;return e instanceof F||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},Y=function(e,t){return W(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return Y(e,t=v(t,!0))?l(2,e[t]):D(e,t)},X=function(e,t,r){return!(Y(e,t=v(t,!0))&&m(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?P(e,t,r):(e[t]=r.value,e)};i?(M||(k.f=K,S.f=X,$(B,"buffer"),$(B,"byteOffset"),$(B,"byteLength"),$(B,"length")),n({target:"Object",stat:!0,forced:!M},{getOwnPropertyDescriptor:K,defineProperty:X}),e.exports=function(e,t,r){var i=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",c="get"+e,l="set"+e,v=o[s],y=v,g=y&&y.prototype,S={},k=function(e,t){var r=O(e);return r.view[c](t*i+r.byteOffset,!0)},R=function(e,t,n){var o=O(e);r&&(n=(n=C(n))<0?0:n>255?255:255&n),o.view[l](t*i+o.byteOffset,n,!0)},D=function(e,t){P(e,t,{get:function(){return k(this,t)},set:function(e){return R(this,t,e)},enumerable:!0})};M?a&&(y=t((function(e,t,r,n){return u(e,y,s),x(function(){return m(t)?q(t)?void 0!==n?new v(t,p(r,i),n):void 0!==r?new v(t,p(r,i)):new v(t):W(t)?z(y,t):_.call(y,t):new v(h(t))}(),e,y)})),w&&w(y,j),A(E(v),(function(e){e in y||f(y,e,v[e])})),y.prototype=g):(y=t((function(e,t,r,n){u(e,y,s);var o,a,c,l=0,f=0;if(m(t)){if(!q(t))return W(t)?z(y,t):_.call(y,t);o=t,f=p(r,i);var v=t.byteLength;if(void 0===n){if(v%i)throw L(V);if(a=v-f,a<0)throw L(V)}else if(a=d(n)*i,a+f>v)throw L(V);c=a/i}else c=h(t),a=c*i,o=new F(a);I(e,{buffer:o,byteOffset:f,byteLength:a,length:c,view:new N(o)});while(l<c)D(e,l++)})),w&&w(y,j),g=y.prototype=b(B)),g.constructor!==y&&f(g,"constructor",y),U&&f(g,U,s),S[s]=y,n({global:!0,forced:y!=v,sham:!M},S),H in y||f(y,H,i),H in g||f(g,H,i),T(s)}):e.exports=function(){}},"77a7":function(e,t){var r=1/0,n=Math.abs,o=Math.pow,i=Math.floor,a=Math.log,s=Math.LN2,c=function(e,t,c){var u,l,f,d=new Array(c),h=8*c-t-1,p=(1<<h)-1,v=p>>1,y=23===t?o(2,-24)-o(2,-77):0,g=e<0||0===e&&1/e<0?1:0,m=0;for(e=n(e),e!=e||e===r?(l=e!=e?1:0,u=p):(u=i(a(e)/s),e*(f=o(2,-u))<1&&(u--,f*=2),e+=u+v>=1?y/f:y*o(2,1-v),e*f>=2&&(u++,f/=2),u+v>=p?(l=0,u=p):u+v>=1?(l=(e*f-1)*o(2,t),u+=v):(l=e*o(2,v-1)*o(2,t),u=0));t>=8;d[m++]=255&l,l/=256,t-=8);for(u=u<<t|l,h+=t;h>0;d[m++]=255&u,u/=256,h-=8);return d[--m]|=128*g,d},u=function(e,t){var n,i=e.length,a=8*i-t-1,s=(1<<a)-1,c=s>>1,u=a-7,l=i-1,f=e[l--],d=127&f;for(f>>=7;u>0;d=256*d+e[l],l--,u-=8);for(n=d&(1<<-u)-1,d>>=-u,u+=t;u>0;n=256*n+e[l],l--,u-=8);if(0===d)d=1-c;else{if(d===s)return n?NaN:f?-r:r;n+=o(2,t),d-=c}return(f?-1:1)*n*o(2,d-t)};e.exports={pack:c,unpack:u}},"81d5":function(e,t,r){"use strict";var n=r("7b0b"),o=r("23cb"),i=r("50c4");e.exports=function(e){var t=n(this),r=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,u=void 0===c?r:o(c,r);while(u>s)t[s++]=e;return t}},"82f8":function(e,t,r){"use strict";var n=r("ebb5"),o=r("4d64").includes,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},"84c3":function(e,t,r){var n=r("74e8");n("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"8a59":function(e,t,r){var n=r("74e8");n("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"8aa7":function(e,t,r){var n=r("da84"),o=r("d039"),i=r("1c7e"),a=r("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;e.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},"8b09":function(e,t,r){var n=r("74e8");n("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9129:function(e,t,r){var n=r("23e7");n({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},9263:function(e,t,r){"use strict";var n=r("ad6d"),o=r("9f7f"),i=RegExp.prototype.exec,a=String.prototype.replace,s=i,c=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=o.UNSUPPORTED_Y||o.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=c||l||u;f&&(s=function(e){var t,r,o,s,f=this,d=u&&f.sticky,h=n.call(f),p=f.source,v=0,y=e;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),y=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(p="(?: "+p+")",y=" "+y,v++),r=new RegExp("^(?:"+p+")",h)),l&&(r=new RegExp("^"+p+"$(?!\\s)",h)),c&&(t=f.lastIndex),o=i.call(d?r:f,y),d?o?(o.input=o.input.slice(v),o[0]=o[0].slice(v),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:c&&o&&(f.lastIndex=f.global?o.index+o[0].length:t),l&&o&&o.length>1&&a.call(o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o}),e.exports=s},"93bf":function(e,t,r){
/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var t="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},r=e.exports,n=function(){for(var e,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=r.length,i={};n<o;n++)if(e=r[n],e&&e[1]in t){for(n=0;n<e.length;n++)i[r[0][n]]=e[n];return i}return!1}(),o={change:n.fullscreenchange,error:n.fullscreenerror},i={request:function(e){return new Promise(function(r,o){var i=function(){this.off("change",i),r()}.bind(this);this.on("change",i),e=e||t.documentElement;var a=e[n.requestFullscreen]();a instanceof Promise&&a.then(i).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,r){if(this.isFullscreen){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o);var i=t[n.exitFullscreen]();i instanceof Promise&&i.then(o).catch(r)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,r){var n=o[e];n&&t.addEventListener(n,r,!1)},off:function(e,r){var n=o[e];n&&t.removeEventListener(n,r,!1)},raw:n};n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[n.fullscreenEnabled])}}}),r?e.exports=i:window.screenfull=i):r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})()},"944a":function(e,t,r){var n=r("746f");n("toStringTag")},"99af":function(e,t,r){"use strict";var n=r("23e7"),o=r("d039"),i=r("e8b5"),a=r("861d"),s=r("7b0b"),c=r("50c4"),u=r("8418"),l=r("65f0"),f=r("1dde"),d=r("b622"),h=r("2d00"),p=d("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",g=h>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),m=f("concat"),b=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)},w=!g||!m;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,r,n,o,i,a=s(this),f=l(a,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?a:arguments[t],b(i)){if(o=c(i.length),d+o>v)throw TypeError(y);for(r=0;r<o;r++,d++)r in i&&u(f,d,i[r])}else{if(d>=v)throw TypeError(y);u(f,d++,i)}return f.length=d,f}})},"9a8c":function(e,t,r){"use strict";var n=r("ebb5"),o=r("145e"),i=n.aTypedArray,a=n.exportTypedArrayMethod;a("copyWithin",(function(e,t){return o.call(i(this),e,t,arguments.length>2?arguments[2]:void 0)}))},"9f7f":function(e,t,r){"use strict";var n=r("d039");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a078:function(e,t,r){var n=r("7b0b"),o=r("50c4"),i=r("35a1"),a=r("e95a"),s=r("0366"),c=r("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,r,u,l,f,d,h=n(e),p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,g=i(h);if(void 0!=g&&!a(g)){f=g.call(h),d=f.next,h=[];while(!(l=d.call(f)).done)h.push(l.value)}for(y&&p>2&&(v=s(v,arguments[2],2)),r=o(h.length),u=new(c(this))(r),t=0;r>t;t++)u[t]=y?v(h[t],t):h[t];return u}},a15b:function(e,t,r){"use strict";var n=r("23e7"),o=r("44ad"),i=r("fc6a"),a=r("a640"),s=[].join,c=o!=Object,u=a("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},a434:function(e,t,r){"use strict";var n=r("23e7"),o=r("23cb"),i=r("a691"),a=r("50c4"),s=r("7b0b"),c=r("65f0"),u=r("8418"),l=r("1dde"),f=r("ae40"),d=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var r,n,l,f,d,h,m=s(this),b=a(m.length),w=o(e,b),E=arguments.length;if(0===E?r=n=0:1===E?(r=0,n=b-w):(r=E-2,n=v(p(i(t),0),b-w)),b+r-n>y)throw TypeError(g);for(l=c(m,n),f=0;f<n;f++)d=w+f,d in m&&u(l,f,m[d]);if(l.length=n,r<n){for(f=w;f<b-n;f++)d=f+n,h=f+r,d in m?m[h]=m[d]:delete m[h];for(f=b;f>b-n+r;f--)delete m[f-1]}else if(r>n)for(f=b-n;f>w;f--)d=f+n-1,h=f+r-1,d in m?m[h]=m[d]:delete m[h];for(f=0;f<r;f++)m[f+w]=arguments[f+2];return m.length=b-n+r,l}})},a6fd:function(e,t,r){var n=r("23e7"),o=r("d066"),i=r("1c0b"),a=r("825a"),s=r("d039"),c=o("Reflect","apply"),u=Function.apply,l=!s((function(){c((function(){}))}));n({target:"Reflect",stat:!0,forced:l},{apply:function(e,t,r){return i(e),a(r),c?c(e,t,r):u.call(e,t,r)}})},a874:function(e,t,r){var n=r("23e7"),o=r("145e"),i=r("44d2");n({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},a975:function(e,t,r){"use strict";var n=r("ebb5"),o=r("b727").every,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},a9e3:function(e,t,r){"use strict";var n=r("83ab"),o=r("da84"),i=r("94ca"),a=r("6eeb"),s=r("5135"),c=r("c6b6"),u=r("7156"),l=r("c04e"),f=r("d039"),d=r("7c73"),h=r("241c").f,p=r("06cf").f,v=r("9bf2").f,y=r("58a8").trim,g="Number",m=o[g],b=m.prototype,w=c(d(b))==g,E=function(e){var t,r,n,o,i,a,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=y(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+u}for(i=u.slice(2),a=i.length,s=0;s<a;s++)if(c=i.charCodeAt(s),c<48||c>o)return NaN;return parseInt(i,n)}return+u};if(i(g,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var _,A=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof A&&(w?f((function(){b.valueOf.call(r)})):c(r)!=g)?u(new m(E(t)),r,A):E(t)},T=n?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;T.length>S;S++)s(m,_=T[S])&&!s(A,_)&&v(A,_,p(m,_));A.prototype=b,b.constructor=A,a(o,g,A)}},ab13:function(e,t,r){var n=r("b622"),o=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[o]=!1,"/./"[e](t)}catch(n){}}return!1}},ac1f:function(e,t,r){"use strict";var n=r("23e7"),o=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},b39a:function(e,t,r){"use strict";var n=r("da84"),o=r("ebb5"),i=r("d039"),a=n.Int8Array,s=o.aTypedArray,c=o.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,f=!!a&&i((function(){u.call(new a(1))})),d=i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])}));c("toLocaleString",(function(){return u.apply(f?l.call(s(this)):s(this),arguments)}),d)},b636:function(e,t,r){var n=r("746f");n("asyncIterator")},b64b:function(e,t,r){var n=r("23e7"),o=r("7b0b"),i=r("df75"),a=r("d039"),s=a((function(){i(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(e){return i(o(e))}})},baa5:function(e,t,r){var n=r("23e7"),o=r("e58c");n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},bc13:function(e,t,r){"use strict";r("e710")},c19f:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("621a"),a=r("2626"),s="ArrayBuffer",c=i[s],u=o[s];n({global:!0,forced:u!==c},{ArrayBuffer:c}),a(s)},c1ac:function(e,t,r){"use strict";var n=r("ebb5"),o=r("b727").filter,i=r("4840"),a=n.aTypedArray,s=n.aTypedArrayConstructor,c=n.exportTypedArrayMethod;c("filter",(function(e){var t=o(a(this),e,arguments.length>1?arguments[1]:void 0),r=i(this,this.constructor),n=0,c=t.length,u=new(s(r))(c);while(c>n)u[n]=t[n++];return u}))},ca91:function(e,t,r){"use strict";var n=r("ebb5"),o=r("d58f").left,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("reduce",(function(e){return o(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},caad:function(e,t,r){"use strict";var n=r("23e7"),o=r("4d64").includes,i=r("44d2"),a=r("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!s},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cd26:function(e,t,r){"use strict";var n=r("ebb5"),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){var e,t=this,r=o(t).length,n=a(r/2),i=0;while(i<n)e=t[i],t[i++]=t[--r],t[r]=e;return t}))},cfc3:function(e,t,r){var n=r("74e8");n("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},d022:function(e,t,r){var n,o,i,a;r("a4d3"),r("e01a"),r("b636"),r("d28b"),r("944a"),r("99af"),r("a874"),r("4160"),r("caad"),r("c975"),r("a15b"),r("baa5"),r("d81d"),r("fb6a"),r("a434"),r("c19f"),r("b0c0"),r("0c47"),r("23dc"),r("a9e3"),r("9129"),r("7039"),r("3410"),r("b64b"),r("d3b7"),r("a6fd"),r("4ae1"),r("1bf2"),r("ac1f"),r("5377"),r("25f0"),r("2532"),r("3ca3"),r("5319"),r("2ca0"),r("cfc3"),r("4a9b"),r("fd87"),r("8b09"),r("143c"),r("5cc6"),r("8a59"),r("84c3"),r("fb2c"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("159b"),r("ddb0"),r("2b3d");var s=r("7037");(function(r){"object"===s(t)&&"undefined"!==typeof e?e.exports=r():(o=[],n=r,i="function"===typeof n?n.apply(t,o):n,void 0===i||(e.exports=i))})((function(){return function(){function e(t,r,n){function o(s,c){if(!r[s]){if(!t[s]){var u="function"==typeof a&&a;if(!c&&u)return a(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[s]={exports:{}};t[s][0].call(f.exports,(function(e){var r=t[s][1][e];return o(r||e)}),f,f.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof a&&a,s=0;s<n.length;s++)o(n[s]);return o}return e}()({1:[function(e,t,r){"use strict";var n,o="object"===("undefined"===typeof Reflect?"undefined":s(Reflect))?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function a(e){console&&console.warn&&console.warn(e)}n=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!==e};function u(){u.init.call(this)}t.exports=u,t.exports.once=E,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function f(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+s(e))}function d(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var o,i,s;if(f(r),i=e._events,void 0===i?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"===typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),o=d(e),o>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a(c)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=p.bind(n);return o.listener=r,n.wrapFn=o,o}function y(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"===typeof o?r?[o.listener||o]:[o]:r?w(o):m(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function w(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function E(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}A(e,t,i,{once:!0}),"error"!==t&&_(e,o,{once:!0})}))}function _(e,t,r){"function"===typeof e.on&&A(e,"error",t,r)}function A(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+s(e));e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return d(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)i(c,this,t);else{var u=c.length,l=m(c,u);for(r=0;r<u;++r)i(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return h(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return h(this,e,t,!0)},u.prototype.once=function(e,t){return f(t),this.on(e,v(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return f(t),this.prependListener(e,v(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,o,i,a;if(f(t),n=this._events,void 0===n)return this;if(r=n[e],void 0===r)return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():b(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)o=i[n],"removeListener"!==o&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return y(this,e,!0)},u.prototype.rawListeners=function(e){return y(this,e,!1)},u.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},u.prototype.listenerCount=g,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],2:[function(e,t,r){var n,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function u(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"===typeof clearTimeout?clearTimeout:s}catch(e){o=s}})();var l,f=[],d=!1,h=-1;function p(){d&&l&&(d=!1,l.length?f=l.concat(f):h=-1,f.length&&v())}function v(){if(!d){var e=c(p);d=!0;var t=f.length;while(t){l=f,f=[];while(++h<t)l&&l[h].run();h=-1,t=f.length}l=null,d=!1,u(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new y(e,t)),1!==f.length||d||c(v)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e("../errors"),i=c(e("../events")),a=c(e("../event-handler")),s=c(e("../utils/mp4-encoder"));function c(e){return e&&e.__esModule?e:{default:e}}function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(t){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return R()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var y={};c(y,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(i,a,s,c){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==n(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,c)}),(function(e){o("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=v,c(b,"constructor",v),c(v,"constructor",p),p.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),c(b,s,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=m();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){w(i,n,o,a,s,"next",e)}function s(e){w(i,n,o,a,s,"throw",e)}a(void 0)}))}}var _=null;function A(){return T.apply(this,arguments)}function T(){return T=E(u().mark((function e(){return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.default)().then((function(e){_=e}));case 2:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}var S=function(e){h(r,e);var t=v(r);function r(e){var n;return l(this,r),n=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.BUFFER_APPENDING,i.default.BUFFER_RESET,i.default.RECORDING_START,i.default.RECORDING_STOP,i.default.H264_DATA_APPENDING,i.default.PLAYER_SEEK_NOW),n.rec_threshold_total=17179869184,n.rec_threshold_single=1073741824,n.rec_timer=void 0,n.rec_file="",n.rec_result_cb=void 0,n.rec_state_cb=void 0,n.mediaElement=null,n.mediaSource=null,n.mediaSize=0,n.sourceBuffers={},n.segments=[],n.h264Frames=[],n.appended=0,n.mediaErrorCount=0,n.count=0,n.recording=!1,n.onsbue=n.onSBUpdateEnd.bind(g(n)),n.browserType=0,-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&(n.browserType=1),n.mediaType="",n.websocketName=void 0,n.channelName=void 0,n._fs=null,n.track_info={width:0,height:0},A(),n.mp4BlobBuffer=[],n}return d(r,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"onRecordingProc",value:function(){var e=this;if(null==e._fs)return e.rec_result_cb&&e.rec_result_cb(!1),void console.log("fs is not authorized");e.rec_timer&&(clearInterval(e.rec_timer),e.rec_timer=void 0),e.count=0,e.rec_timer=setInterval((function(){if(""==e.mediaType||"H264Raw"==e.mediaType&&e.appended>10){clearInterval(e.rec_timer),e.rec_timer=void 0;var t=new Date,r=1900+t.getYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())+"_"+e.pad2(t.getHours())+"-"+e.pad2(t.getMinutes())+"-"+e.pad2(t.getSeconds());e.rec_file="ax_"+r+".mp4",console.log("MediaRecorder started: "+e.rec_file),e.mediaSize=0,e.recording=!0,e.rec_result_cb&&e.rec_result_cb(!0)}else e.count++;e.count>=10&&(clearInterval(e.rec_timer),e.rec_timer=void 0,e.rec_result_cb&&e.rec_result_cb(!1))}),1e3)}},{key:"onRecordingStart",value:function(e){if(this.recording)console.log("recording is in progress");else{void 0!=e&&(this.rec_threshold_single=e.rec_file_threshold,this.rec_result_cb=e.result_cb,this.rec_state_cb=e.state_cb);var t=this;navigator.webkitPersistentStorage.queryUsageAndQuota((function(e,r){""==r?t.requestFs():window.webkitRequestFileSystem(window.PERSISTENT,t.rec_threshold_total,(function(e){t._fs=e,e.root.getDirectory("ax_video",{create:!0},(function(e){console.log("Directory: "+e.name+" fs requested"),t.onRecordingProc()}),t.errorHandler)}))}),this.errorHandler)}}},{key:"onRecordingStop",value:function(){this.rec_timer&&(clearInterval(this.rec_timer),this.rec_timer=void 0,console.log("Media Recorder stopped2"));var e=this;e.recording=!1,e.saveToMP4Blob(e.h264Frames,this.track_info),e.h264Frames=[]}},{key:"errorHandler",value:function(e){var t="An error occured(errcd): ";console.log(t+e.code)}},{key:"requestFs",value:function(){var e=this;navigator.webkitPersistentStorage.requestQuota(this.rec_threshold_total,(function(t){console.log("grantedBytes: "+t),t>0?window.webkitRequestFileSystem(window.PERSISTENT,t,(function(t){e._fs=t,t.root.getDirectory("ax_video",{create:!0},(function(t){console.log("Directory: "+t.name+" exists or just created."),e.onRecordingProc()}),e.errorHandler)})):e.rec_result_cb&&e.rec_result_cb(!1)}))}},{key:"onMediaAttaching",value:function(e){var t=this.mediaElement=e.media;if(this.mediaType=e.mediaType,this.websocketName=e.websocketName,this.channelName=e.channelName,t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(r)}}},{key:"onMediaDetaching",value:function(){}},{key:"onH264DataAppending",value:function(e){if(this.recording&&e.data){var t=this,r=e.data;t.h264Frames.push(e.data),t.mediaSize+=r.length,t.mediaSize>=t.rec_threshold_single&&(t.rec_state_cb&&t.rec_state_cb(!1),t.onRecordingStop(),t.onRecordingStart(),t.rec_state_cb&&t.rec_state_cb(!0))}}},{key:"saveToMP4Blob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,n=!1;if(e.length>0){var o=t.width,i=t.height,a=_.createEncoder({width:o,height:i,hevc:n});e.forEach((function(e){a.addNalu(e)}));var s=new Blob([a.end()]);r.writeMP4Data(s)}}},{key:"writeMP4Data",value:function(e){var t=this;t._fs.root.getFile("ax_video/"+t.rec_file,{create:!0},(function(r){r.createWriter((function(t){t.onwriteend=function(e){},t.onerror=function(e){console.log("Write rec data failed: "+e.toString())},t.seek(t.length),t.write(e)}),t.errorHandler)}),t.errorHandler)}},{key:"onBufferAppending",value:function(e){this.segments.push(e),this.doAppending()}},{key:"onMediaSourceClose",value:function(){console.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){console.log("media source ended")}},{key:"onSBUpdateEnd",value:function(e){1===this.browserType&&(this.mediaSource.endOfStream(),this.media.play()),this.appending=!1,this.doAppending()}},{key:"onMediaSourceOpen",value:function(){console.log("media source open");var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.wfs.trigger(i.default.MEDIA_ATTACHED,{media:this.media,channelName:this.channelName,mediaType:this.mediaType,websocketName:this.websocketName})}},{key:"onBufferReset",value:function(e){"H264Raw"===this.mediaType&&this.createSourceBuffers({tracks:"video",mimeType:e.mimeType}),this.track_info.width=e.width,this.track_info.height=e.height}},{key:"createSourceBuffers",value:function(t){var r,n=this.sourceBuffers,o=this.mediaSource;r=""===t.mimeType?"video/mp4;codecs=avc1.420028":"video/mp4;codecs="+t.mimeType;try{var a=n["video"]=o.addSourceBuffer(r);a.addEventListener("updateend",this.onsbue)}catch(e){}this.wfs.trigger(i.default.BUFFER_CREATED,{tracks:t}),this.mediaElement.play()}},{key:"onPlayerSeekNow",value:function(){var e=this.mediaElement.buffered.end(0);this.mediaElement.currentTime=e}},{key:"doAppending",value:function e(){var t=this.wfs,r=this.sourceBuffers,n=this.segments;if(Object.keys(r).length){if(this.mediaElement.error){if(this.segments=[],this.mediaErrorCount++,this.mediaErrorCount<100)console.log("doAppending although a media error occured, error code:",this.media.error.code);else{var a={type:o.ErrorTypes.MEDIA_ERROR};a.details=o.ErrorDetails.BUFFER_APPEND_ERROR,a.frag=this.fragCurrent,a.fatal=!0,this.wfs.trigger(i.default.ERROR,a)}return}if(this.mediaErrorCount=0,this.appending)return;if(n&&n.length){var s=n.shift();try{r[s.type]&&(this.parent=s.parent,r[s.type].appendBuffer(s.data),this.appendError=0,this.appended++,this.appending=!0)}catch(e){n.unshift(s);var c={type:o.ErrorTypes.MEDIA_ERROR};22!==e.code?(this.appendError?this.appendError++:this.appendError=1,c.details=o.ErrorDetails.BUFFER_APPEND_ERROR,c.frag=this.fragCurrent,this.appendError>t.config.appendErrorMaxRetry?(n=[],c.fatal=!0):c.fatal=!1):(this.segments=[],c.details=o.ErrorDetails.BUFFER_FULL_ERROR,c.fatal=!0),this.wfs.trigger(i.default.ERROR,c)}}}}}]),r}(a.default),k=S;r.default=k},{"../errors":7,"../event-handler":8,"../events":9,"../utils/mp4-encoder":17}],4:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("../events")),i=a(e("../event-handler"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=v();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var g=function(e){l(r,e);var t=d(r);function r(e){var n;return s(this,r),n=t.call(this,e,o.default.MEDIA_ATTACHED,o.default.BUFFER_CREATED,o.default.FILE_PARSING_DATA,o.default.FILE_HEAD_LOADED,o.default.FILE_DATA_LOADED,o.default.WEBSOCKET_ATTACHED,o.default.FRAG_PARSING_DATA,o.default.FRAG_PARSING_INIT_SEGMENT),n.fileStart=0,n.fileEnd=0,n.pendingAppending=0,n.mediaType=void 0,n.channelName,n}return u(r,[{key:"destroy",value:function(){i.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){if(console.log("media attached"),void 0!=e.websocketName){var t="ws://"+window.location.host+"/"+e.websocketName,r="binary",n=new WebSocket(t,r);this.wfs.attachWebsocket(n,e.websocketName,e.channelName)}else console.log("websocketName ERROE!!!")}},{key:"onBufferCreated",value:function(e){this.mediaType=e.mediaType}},{key:"onFileHeadLoaded",value:function(e){}},{key:"onFileDataLoaded",value:function(e){}},{key:"onFileParsingData",value:function(e){}},{key:"onWebsocketAttached",value:function(e){this.wfs.trigger(o.default.BUFFER_APPENDING,{type:"video",data:e.payload,parent:"main"})}},{key:"onFragParsingInitSegment",value:function(e){var t,r=e.tracks,n=r.video;for(t in n&&(n.id=e.id),r){n=r[t];var i=n.initSegment;i&&(this.pendingAppending++,this.wfs.trigger(o.default.BUFFER_APPENDING,{type:t,data:i,parent:"main"}))}}},{key:"onFragParsingData",value:function(e){var t=this;[e.data1,e.data2].forEach((function(r){r&&(t.pendingAppending++,t.wfs.trigger(o.default.BUFFER_APPENDING,{type:e.type,data:r,parent:"main"}))}))}}]),r}(i.default),m=g;r.default=m},{"../event-handler":8,"../events":9}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("../utils/logger");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=function(){function e(t){o(this,e),this.data=t,this.bytesAvailable=this.data.byteLength,this.word=0,this.bitsAvailable=0}return a(e,[{key:"loadWord",value:function(){var e=this.data.byteLength-this.bytesAvailable,t=new Uint8Array(4),r=Math.min(4,this.bytesAvailable);if(0===r)throw new Error("no bytes available");t.set(this.data.subarray(e,e+r)),this.word=new DataView(t.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,r,n=8,o=8;for(t=0;t<e;t++)0!==o&&(r=this.readEG(),o=(n+r+256)%256),n=0===o?n:o}},{key:"readSPS",value:function(){var e,t,r,n,o,i,a,s=0,c=0,u=0,l=0,f=1;if(this.readUByte(),e=this.readUByte(),this.readBits(5),this.skipBits(3),this.readUByte(),this.skipUEG(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var d=this.readUEG();if(3===d&&this.skipBits(1),this.skipUEG(),this.skipUEG(),this.skipBits(1),this.readBoolean())for(i=3!==d?8:12,a=0;a<i;a++)this.readBoolean()&&(a<6?this.skipScalingList(16):this.skipScalingList(64))}this.skipUEG();var h=this.readUEG();if(0===h)this.readUEG();else if(1===h)for(this.skipBits(1),this.skipEG(),this.skipEG(),t=this.readUEG(),a=0;a<t;a++)this.skipEG();if(this.skipUEG(),this.skipBits(1),r=this.readUEG(),n=this.readUEG(),o=this.readBits(1),0===o&&this.skipBits(1),this.skipBits(1),this.readBoolean()&&(s=this.readUEG(),c=this.readUEG(),u=this.readUEG(),l=this.readUEG()),this.readBoolean()&&this.readBoolean()){var p,v=this.readUByte();switch(v){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[this.readUByte()<<8|this.readUByte(),this.readUByte()<<8|this.readUByte()];break}p&&(f=p[0]/p[1])}return{width:Math.ceil((16*(r+1)-2*s-2*c)*f),height:(2-o)*(n+1)*16-(o?2:4)*(u+l)}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}(),c=s;r.default=c},{"../utils/logger":16}],6:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;e("../errors");var o=c(e("../events")),i=c(e("./exp-golomb")),a=c(e("../event-handler")),s=c(e("../remux/mp4-remuxer"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=g();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var b=function(e){d(r,e);var t=p(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u(this,r),n=t.call(this,e,o.default.H264_DATA_PARSING),n.config=n.wfs.config||i,n.wfs=e,n.id="main";MediaSource.isTypeSupported("video/mp4");return n.remuxer=new s.default(n.wfs,n.id,n.config),n.contiguous=!0,n.timeOffset=1,n.sn=0,n.TIMESCALE=9e4,n.timestamp=0,n.scaleFactor=n.TIMESCALE/1e3,n.H264_TIMEBASE=n.config.mp4Duration,n._avcTrack={container:"video/mp4",type:"video",id:1,sequenceNumber:0,samples:[],len:0,nbNalu:0,dropped:0,count:0},n.browserType=0,-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&(n.browserType=1),n}return f(r,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"getTimestampM",value:function(){return this.timestamp+=this.H264_TIMEBASE,this.timestamp}},{key:"onH264DataParsing",value:function(e){this._parseAVCTrack(e.data),this.browserType,this.remuxer.pushVideo(0,this.sn,this._avcTrack,this.timeOffset,this.contiguous),this.sn+=1}},{key:"_parseAVCTrack",value:function(e){var t,r,n,a,s=this,c=this._avcTrack,u=c.samples,l=this._parseAVCNALu(e),f=[],d=!1,h=!1,p=0,v="",y=function(){if(f.length){if(!this.config.forceKeyFrameOnDiscontinuity||!0===h||c.sps&&(u.length||this.contiguous)){var e=this.getTimestampM();r={units:{units:f,length:p},pts:e,dts:e,key:h},u.push(r),c.len+=p,c.nbNalu+=f.length}else c.dropped++;f=[],p=0}}.bind(this);l.forEach((function(e){switch(e.type){case 1:n=!0,d&&(v+="NDR ");break;case 5:n=!0,d&&(v+="IDR "),h=!0;break;case 6:e.data=s.discardEPB(e.data),t=new i.default(e.data),t.readUByte();break;case 7:if(n=!1,d&&(v+="SPS "),!c.sps){t=new i.default(e.data);var r=t.readSPS();c.width=r.width,c.height=r.height,c.sps=[e.data],c.duration=0;var u=e.data.subarray(1,4),l="avc1.";for(a=0;a<3;a++){var g=u[a].toString(16);g.length<2&&(g="0"+g),l+=g}c.codec=l,s.wfs.trigger(o.default.BUFFER_RESET,{mimeType:c.codec,width:c.width,height:c.height}),n=!0}break;case 8:n=!1,d&&(v+="PPS "),c.pps||(c.pps=[e.data],n=!0);break;case 9:n=!1,d&&(v+="AUD "),y();break;default:n=!1,v+="unknown NAL "+e.type+" ";break}n&&(f.push(e),p+=e.data.byteLength)})),(d||v.length)&&logger.log(v),y()}},{key:"_parseAVCNALu",value:function(e){var t,r,n,o,i,a=0,s=e.byteLength,c=0,u=[];while(a<s)switch(t=e[a++],c){case 0:0===t&&(c=1);break;case 1:c=0===t?2:0;break;case 2:case 3:0===t?c=3:1===t&&a<s?(n=31&e[a],o&&(r={data:e.subarray(o,a-c-1),type:i},u.push(r)),o=a,i=n,c=0):c=0;break;default:break}return o&&(r={data:e.subarray(o,s),type:i,state:c},u.push(r)),u}},{key:"discardEPB",value:function(e){var t,r,n=e.byteLength,o=[],i=1;while(i<n-2)0===e[i]&&0===e[i+1]&&3===e[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return e;t=n-o.length,r=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===o[0]&&(a++,o.shift()),r[i]=e[a];return r}}]),r}(a.default),w=b;r.default=w},{"../errors":7,"../event-handler":8,"../events":9,"../remux/mp4-remuxer":15,"./exp-golomb":5}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorTypes=r.ErrorDetails=void 0;var n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",OTHER_ERROR:"otherError"};r.ErrorTypes=n;var o={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",INTERNAL_EXCEPTION:"internalException",NETWORK_RECV_DATA_TIMEOUT:"networkRecvDataTimeout"};r.ErrorDetails=o},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;n(e("./events"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=function(){function e(t){i(this,e),this.wfs=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}return s(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===o(this.handledEvents)&&this.handledEvents.length&&"function"===typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.wfs.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.wfs.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function e(t,r){var n=function(e,t){var r="on"+e.replace("wfs","");return this[r],this[r].bind(this,t)};try{n.call(this,t,r).call()}catch(e){console.log("internal error happened while processing ".concat(t,":").concat(e.message))}}}]),e}(),u=c;r.default=u},{"./events":9}],9:[function(e,t,r){"use strict";t.exports={MEDIA_ATTACHING:"wfsMediaAttaching",MEDIA_ATTACHED:"wfsMediaAttached",FRAG_LOADING:"wfsFragLoading",BUFFER_CREATED:"wfsBufferCreated",BUFFER_APPENDING:"wfsBufferAppending",BUFFER_RESET:"wfsBufferReset",BUFFER_CLEAR:"wfsBufferClear",FRAG_PARSING_DATA:"wfsFragParsingData",FRAG_PARSING_INIT_SEGMENT:"wfsFragParsingInitSegment",H264_DATA_APPENDING:"wfsH264DataAppending",H264_DATA_PARSING:"wfsH264DataParsing",WEBSOCKET_ATTACHED:"wfsWebsocketAttached",WEBSOCKET_ATTACHING:"wfsWebsocketAttaching",WEBSOCKET_DATA_UPLOADING:"wfsWebsocketDataUploading",WEBSOCKET_MESSAGE_SENDING:"wfsWebsocketMessageSending",FILE_HEAD_LOADING:"wfsFileHeadLoading",FILE_HEAD_LOADED:"wfsFileHeadLoaded",FILE_DATA_LOADING:"wfsFileDataLoading",FILE_DATA_LOADED:"wfsFileDataLoaded",FILE_PARSING_DATA:"wfsFileParsingData",RECORDING_START:"wfsRecordingStart",PLAYER_SEEK_NOW:"wfsPlayerSeekNow",RECORDING_STOP:"wfsRecordingStop",ERROR:"wfsError"}},{}],10:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=function(){function e(){n(this,e)}return i(e,null,[{key:"getSilentFrame",value:function(e){return 1===e?new Uint8Array([0,200,0,128,35,128]):2===e?new Uint8Array([33,0,73,144,2,25,0,35,128]):3===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):4===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):5===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):6===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null}}]),e}(),s=a;r.default=s},{}],11:[function(e,t,r){"use strict";t.exports=e("./wfs.js").default},{"./wfs.js":20}],12:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("../events")),i=a(e("../event-handler"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=v();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var g=function(e){l(r,e);var t=d(r);function r(e){var n;return s(this,r),n=t.call(this,e,o.default.FRAG_LOADING,o.default.FILE_HEAD_LOADING,o.default.FILE_DATA_LOADING),n.loaders={},n}return u(r,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},i.default.prototype.destroy.call(this)}},{key:"onFileHeadLoading",value:function(e){var t,r,n,o=this.wfs.config,i=new o.loader(o);t={url:o.fmp4FileUrl},r={maxRetry:0,retryDelay:0},n={onSuccess:this.fileloadheadsuccess.bind(this)},i.loadHead(t,r,n)}},{key:"fileloadheadsuccess",value:function(e){this.wfs.trigger(o.default.FILE_HEAD_LOADED,{size:e})}},{key:"onFileDataLoading",value:function(e){var t,r,n,o=this.wfs.config,i=new o.loader(o);t={url:o.fmp4FileUrl,responseType:"arraybuffer",progressData:!1};var a=e.fileStart,s=e.fileEnd;isNaN(a)||isNaN(s)||(t.rangeStart=a,t.rangeEnd=s),r={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},n={onSuccess:this.fileloaddatasuccess.bind(this)},i.load(t,r,n)}},{key:"fileloaddatasuccess",value:function(e,t,r){this.wfs.trigger(o.default.FILE_DATA_LOADED,{payload:e.data,stats:t})}},{key:"loaderror",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0}},{key:"loadtimeout",value:function(e,t){var r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0}},{key:"loadprogress",value:function(e,t,r){var n=t.frag;n.loaded=e.loaded}}]),r}(i.default),m=g;r.default=m},{"../event-handler":8,"../events":9}],13:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e("../errors"),i=c(e("../events")),a=c(e("../event-handler")),s=c(e("../demux/h264-demuxer"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=g();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var b=function(e){d(r,e);var t=p(r);function r(e){var n;return u(this,r),n=t.call(this,e,i.default.WEBSOCKET_ATTACHING,i.default.WEBSOCKET_DATA_UPLOADING,i.default.WEBSOCKET_MESSAGE_SENDING),n.buf=null,n.ctx=null,n.h264Demuxer=new s.default(e),n.websocketName=void 0,n.media=void 0,n.mediaType=void 0,n.mediaCode=0,n.channelName=void 0,n.isForceClosed=!1,n.timer=void 0,n.lastRecvDataTime=0,n.extraData=void 0,n.isLoaded=!1,n}return f(r,[{key:"create_timer",value:function(){var e=this;this.lastRecvDataTime=performance.now(),console.log("Websocket: create_timer"),this.timer=setInterval((function(){if(e.lastRecvDataTime>0){var t=performance.now(),r=t-e.lastRecvDataTime;if(r>e.wfs.config.wsMinPacketInterval&&console.log("Websocket: did not recv data over "+r+" ms"),r>e.wfs.config.wsMaxPacketInterval&&!e.isForceClosed){e.unload(),console.log("Websocket data not received in "+e.wfs.config.wsMaxPacketInterval/1e3+"s, open again...");var n={type:o.ErrorTypes.NETWORK_ERROR};n.details=o.ErrorDetails.NETWORK_RECV_DATA_TIMEOUT,n.fatal=!0,e.wfs.trigger(i.default.ERROR,n)}}else e.lastRecvDataTime=performance.now()}),this.wfs.config.wsMinPacketInterval)}},{key:"kill_timer",value:function(){this.timer&&(console.log("Websocket close: clear timer"),clearInterval(this.timer),this.timer=void 0)}},{key:"destroy",value:function(){this.kill_timer(),this.isForceClosed=!0,this.client&&this.client.close(),a.default.prototype.destroy.call(this)}},{key:"onWebsocketAttaching",value:function(e){switch(this.kill_timer(),this.create_timer(),e.mediaType){case"MJPEG":this.mediaCode=1,this.ctx=e.media.getContext("2d");break;case"H264Raw":default:this.mediaCode=0;break}this.websocketName=e.websocketName,this.media=e.media,this.mediaType=e.mediaType,this.channelName=e.channelName,this.extraData=e.extraData,e.websocket instanceof WebSocket&&(this.client=e.websocket,this.client.onopen=this.initSocketClient.bind(this),this.client.onclose=this.closeSocketClient.bind(this),this.client.onerror=this.errorSocketClient.bind(this))}},{key:"errorSocketClient",value:function(e){this.unload(),console.log("WebSocket error: ",e)}},{key:"closeSocketClient",value:function(e){this.unload(),console.log("Websocket closed: ",e)}},{key:"initSocketClient",value:function(e){this.load(),console.log("Websocket Open!")}},{key:"receiveSocketMessage",value:function(e){var t=this;if(this.isLoaded)if(this.lastRecvDataTime=performance.now(),0===this.mediaCode){this.buf=new Uint8Array(e.data);var r=new Uint8Array(this.buf),n=new Uint8Array(this.buf);this.wfs.trigger(i.default.H264_DATA_PARSING,{data:r}),this.wfs.trigger(i.default.H264_DATA_APPENDING,{data:n})}else if(1===this.mediaCode)if(this.extraData){if(!this.extraData.isDrawImg)return;if(void 0==this.media||!this.media)return;var o=new FileReader;o.onload=function(e){if(e.target.readyState===FileReader.DONE){var r=t.ctx,n=new Image,o=t.extraData.mjpeg_w,i=t.extraData.mjpeg_h,a=t.extraData.sizeOptionInd,s=t.extraData.getObjectFitSize;n.onload=function(){if(r.clearRect(0,0,o,i),1===a){var e=s(a,o,i,this.width,this.height),t=e.sx,c=e.sy,u=e.swidth,l=e.sheight,f=e.x,d=e.y,h=e.width,p=e.height;r.drawImage(n,t,c,u,l,f,d,h,p)}else r.drawImage(n,0,0,o,i)},n.src=e.target.result}},o.readAsDataURL(e.data)}else console.log("extraData is undefined"),this.extraData=this.wfs.extraData}},{key:"onWebsocketDataUploading",value:function(e){this.client.send(e.data)}},{key:"onWebsocketMessageSending",value:function(e){this.client.send(JSON.stringify({t:e.commandType,c:e.channelName,v:e.commandValue}))}},{key:"load",value:function(){0===this.mediaCode&&(this.client.binaryType="arraybuffer"),this.client.onmessage=this.receiveSocketMessage.bind(this),this.wfs.trigger(i.default.WEBSOCKET_MESSAGE_SENDING,{commandType:"open",channelName:this.channelName,commandValue:"NA"}),this.isLoaded=!0}},{key:"unload",value:function(){this.isLoaded=!1,1===this.mediaCode&&this.ctx.clearRect(0,0,this.extraData.mjpeg_w,this.extraData.mjpeg_h)}}]),r}(a.default),w=b;r.default=w},{"../demux/h264-demuxer":6,"../errors":7,"../event-handler":8,"../events":9}],14:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=function(){function e(){n(this,e)}return i(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=i,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,c,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,o))}},{key:"box",value:function(e){var t,r=Array.prototype.slice.call(arguments,1),n=8,o=r.length,i=o;while(o--)n+=r[o].byteLength;for(t=new Uint8Array(n),t[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),o=0,n=8;o<i;o++)t.set(r[o],n),n+=r[o].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,r){return r*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))}},{key:"moov",value:function(t){var r=t.length,n=[];while(r--)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))}},{key:"mvex",value:function(t){var r=t.length,n=[];while(r--)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))}},{key:"mvhd",value:function(t,r){r=0;var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,n)}},{key:"sdtp",value:function(t){var r,n,o=t.samples||[],i=new Uint8Array(4+o.length);for(n=0;n<o.length;n++)r=o[n].flags,i[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,i)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var r,n,o,i=[],a=[];for(r=0;r<t.sps.length;r++)n=t.sps[r],o=n.byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)n=t.pps[r],o=n.byteLength,a.push(o>>>8&255),a.push(255&o),a=a.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(a))),c=t.width,u=t.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,255&c,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,106,101,102,102,45,121,97,110,47,47,47,103,119,102,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var r=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"stsd",value:function(t){return"audio"===t.type?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var r=t.id,n=t.duration*t.timescale,o=t.width,i=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,i>>8&255,255&i,0,0]))}},{key:"traf",value:function(t,r){var n=e.sdtp(t),o=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.trun(t,n.length+16+16+8+16+8+8),n)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,r){var n,o,i,a,s,c,u=t.samples||[],l=u.length,f=12+16*l,d=new Uint8Array(f);for(r+=8+f,d.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<l;n++)o=u[n],i=o.duration,a=o.size,s=o.flags,c=o.cts,d.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,c>>>24&255,c>>>16&255,c>>>8&255,255&c],12+16*n);return e.box(e.types.trun,d)}},{key:"initSegment",value:function(t){e.types||e.init();var r,n=e.moov(t);return r=new Uint8Array(e.FTYP.byteLength+n.byteLength),r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r}}]),e}(),s=a;r.default=s},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=c(e("../helper/aac")),o=c(e("../events")),i=e("../utils/logger"),a=c(e("../remux/mp4-generator")),s=e("../errors");function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}e("../utils/polyfill");var d=function(){function e(t,r,n){u(this,e),this.observer=t,this.id=r,this.config=n,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR,this.nextAvcDts=90300,this.H264_TIMEBASE=this.config.mp4Duration,this.genISFailCount=0}return f(e,[{key:"passthrough",get:function(){return!1}},{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=void 0}},{key:"switchLevel",value:function(){this.ISGenerated=!1,this.genISFailCount=0}},{key:"pushVideo",value:function(e,t,r,n,o){this.level=e,this.sn=t,this.ISGenerated||this.generateVideoIS(r,n),this.ISGenerated&&this.remuxVideo_2(r,n,o)}},{key:"remuxVideo_2",value:function(e,t,r,n){var s,c,u=8,l=e.samples,f=[];s=new Uint8Array(e.len+4*e.nbNalu+8);var d=new DataView(s.buffer);d.setUint32(0,s.byteLength),s.set(a.default.types.mdat,4);for(var h,p,v,y=0,g=0;g<l.length;g++){var m=l[g],b=0;while(m.units.units.length){var w=m.units.units.shift();d.setUint32(u,w.data.byteLength),u+=4,s.set(w.data,u),u+=w.data.byteLength,b+=4+w.data.byteLength}var E=m.pts-this._initPTS,_=m.dts-this._initDTS;if(_=Math.min(E,_),void 0!==v)h=this._PTSNormalize(E,v),p=this._PTSNormalize(_,v),y=p-v,y<=0&&(i.logger.log("invalid sample duration at PTS/DTS: ".concat(m.pts,"/").concat(m.dts,"|dts norm: ").concat(p,"|lastDTS: ").concat(v,":").concat(y)),y=1);else{var A,T=this.nextAvcDts;h=this._PTSNormalize(E,T),p=this._PTSNormalize(_,T),T&&(A=Math.round(p-T),Math.abs(A)<600&&A&&(A>1?i.logger.log("AVC:".concat(A," ms hole between fragments detected,filling it")):A<-1&&i.logger.log("AVC:".concat(-A," ms overlapping between fragments detected")),p=T,h=Math.max(h-A,p),i.logger.log("Video/PTS/DTS adjusted: ".concat(h,"/").concat(p,",delta:").concat(A)))),this.firstPTS=Math.max(0,h),this.firstDTS=Math.max(0,p),y=.03}f.push({size:b,duration:this.H264_TIMEBASE,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:m.key?2:1,isNonSync:m.key?0:1}}),v=p}var S=0;if(f.length>=2&&(S=f[f.length-2].duration,f[0].duration=S),this.nextAvcDts=p+S,e.len=0,e.nbNalu=0,e.dropped=0,f.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var k=f[0].flags;k.dependsOn=2,k.isNonSync=0}e.samples=f,c=a.default.moof(e.sequenceNumber++,p,e),e.samples=[];var R={data1:c,data2:s,type:"video"};return this.observer.trigger(o.default.FRAG_PARSING_DATA,R),R}},{key:"generateVideoIS",value:function(e,t){var r,n,i=this.observer,c=e.samples,u=(this.PES_TIMESCALE,{}),l={id:this.id,level:this.level,sn:this.sn,tracks:u,unique:!1},f=void 0===this._initPTS;f&&(r=n=1/0),e.sps&&e.pps&&c.length&&(e.timescale=9e4,u.video={container:"video/mp4",codec:e.codec,initSegment:a.default.initSegment([e]),metadata:{width:e.width,height:e.height}},f&&(r=Math.min(r,c[0].pts-this.H264_TIMEBASE),n=Math.min(n,c[0].dts-this.H264_TIMEBASE))),Object.keys(u).length?(i.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,l),this.ISGenerated=!0,this.genISFailCount=0,f&&(this._initPTS=r,this._initDTS=n)):(this.genISFailCount++,this.genISFailCount>60&&console.log("generateVideoIS ERROR: ",s.ErrorTypes.MEDIA_ERROR))}},{key:"remux",value:function(e,t,r,n,i,a,s,c){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(r,n,s),this.ISGenerated)if(r.samples.length){var u,l=this.remuxAudio(r,s,c);if(n.samples.length)l&&(u=l.endPTS-l.startPTS),this.remuxVideo(n,s,c,u)}else{var f;n.samples.length&&(f=this.remuxVideo(n,s,c)),f&&r.codec&&this.remuxEmptyAudio(r,s,c,f)}i.samples.length&&this.remuxID3(i,s),a.samples.length&&this.remuxText(a,s),this.observer.trigger(o.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(e,t,r){var n,c,u=this.observer,l=e.samples,f=t.samples,d=this.PES_TIMESCALE,h={},p={id:this.id,level:this.level,sn:this.sn,tracks:h,unique:!1},v=void 0===this._initPTS;if(v&&(n=c=1/0),e.config&&l.length){if(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)){var y=function e(t,r){return r?e(r,t%r):t};e.timescale=e.audiosamplerate/y(e.audiosamplerate,1024)}i.logger.log("audio mp4 timescale :"+e.timescale),h.audio={container:"audio/mp4",codec:e.codec,initSegment:a.default.initSegment([e]),metadata:{channelCount:e.channelCount}},v&&(n=c=l[0].pts-d*r)}t.sps&&t.pps&&f.length&&(t.timescale=this.MP4_TIMESCALE,h.video={container:"video/mp4",codec:t.codec,initSegment:a.default.initSegment([t]),metadata:{width:t.width,height:t.height}},v&&(n=Math.min(n,f[0].pts-d*r),c=Math.min(c,f[0].dts-d*r))),Object.keys(h).length?(u.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,v&&(this._initPTS=n,this._initDTS=c)):u.trigger(o.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,id:this.id,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxAudio",value:function(e,t,r){var s,c,u,l,f,d,h,p,v,y,g,m,b,w=this.PES_TIMESCALE,E=e.timescale,_=w/E,A=1024*e.timescale/e.audiosamplerate,T=8,S=[],k=[];e.samples.sort((function(e,t){return e.pts-t.pts})),k=e.samples;for(var R=r?this.nextAacPts:t*w,x=this._PTSNormalize(k[0].pts-this._initPTS,R),O=A*_,I=x+O,P=1;P<k.length;){var D=k[P],C=this._PTSNormalize(D.pts-this._initPTS,R),L=C-I;if(L<-.5*O)i.logger.log("Dropping frame due to ".concat(Math.abs(L/90)," ms overlap.")),k.splice(P,1),e.len-=D.unit.length;else if(L>.5*O){var F=Math.round(L/O);i.logger.log("Injecting ".concat(F," frame").concat(F>1?"s":""," of missing audio due to ").concat(Math.round(L/90)," ms gap."));for(var N=0;N<F;N++){var M=k[P-1].pts+O,U=n.default.getSilentFrame(e.channelCount);U||(i.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),U=D.unit.slice(0)),k.splice(P,0,{unit:U,pts:M,dts:M}),e.len+=U.length,P+=1}I+=(F+1)*O,D.pts=k[P-1].pts+O,P+=1}else Math.abs(L)>.1*O&&i.logger.log("Invalid frame delta ".concat(C-I+O," at PTS ").concat(Math.round(C/90)," (should be ").concat(O,").")),I+=O,D.pts=k[P-1].pts+O,P+=1}while(k.length){if(c=k.shift(),l=c.unit,y=c.pts-this._initDTS,g=c.dts-this._initDTS,void 0!==v)m=this._PTSNormalize(y,v),b=this._PTSNormalize(g,v),u.duration=(b-v)/_;else{m=this._PTSNormalize(y,R),b=this._PTSNormalize(g,R);var j=Math.round(1e3*(m-R)/w);if(r&&j){if(j>0)i.logger.log("".concat(j," ms hole between AAC samples detected,filling it"));else if(j<-12){i.logger.log("".concat(-j," ms overlapping between AAC samples detected, drop frame")),e.len-=l.byteLength;continue}m=b=R}if(h=Math.max(0,m),p=Math.max(0,b),!(e.len>0))return;f=new Uint8Array(e.len+8),s=new DataView(f.buffer),s.setUint32(0,f.byteLength),f.set(a.default.types.mdat,4)}f.set(l,T),T+=l.byteLength,u={size:l.byteLength,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(u),v=b}var B=0,G=S.length;if(G>=2&&(B=S[G-2].duration,u.duration=B),G){this.nextAacPts=m+_*B,e.len=0,e.samples=S,d=a.default.moof(e.sequenceNumber++,p/_,e),e.samples=[];var W={id:this.id,level:this.level,sn:this.sn,data1:d,data2:f,startPTS:h/w,endPTS:this.nextAacPts/w,startDTS:p/w,endDTS:(b+_*B)/w,type:"audio",nb:G};return this.observer.trigger(o.default.FRAG_PARSING_DATA,W),W}return null}},{key:"remuxEmptyAudio",value:function(e,t,r,o){var a=this.PES_TIMESCALE,s=e.timescale?e.timescale:e.audiosamplerate,c=a/s,u=o.startDTS*a+this._initDTS,l=o.endDTS*a+this._initDTS,f=1024,d=c*f,h=Math.ceil((l-u)/d),p=n.default.getSilentFrame(e.channelCount);if(p){for(var v=[],y=0;y<h;y++){var g=u+y*d;v.push({unit:p.slice(0),pts:g,dts:g}),e.len+=p.length}e.samples=v,this.remuxAudio(e,t,r)}else i.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")}},{key:"remuxID3",value:function(e,t){var r,n=e.samples.length;if(n){for(var i=0;i<n;i++)r=e.samples[i],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE,r.dts=(r.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(o.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort((function(e,t){return e.pts-t.pts}));var r,n=e.samples.length;if(n){for(var i=0;i<n;i++)r=e.samples[i],r.pts=(r.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(o.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var r;if(void 0===t)return e;r=t<e?-8589934592:8589934592;while(Math.abs(e-t)>4294967296)e+=r;return e}}]),e}(),h=d;r.default=h},{"../errors":7,"../events":9,"../helper/aac":10,"../remux/mp4-generator":14,"../utils/logger":16,"../utils/polyfill":18}],16:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){}Object.defineProperty(r,"__esModule",{value:!0}),r.logger=r.enableLogs=void 0;var i={trace:o,debug:o,log:o,warn:o,info:o,error:o},a=i;function s(e,t){return t="["+e+"] > "+t,t}function c(e){var t=window.console[e];return t?function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];n[0]&&(n[0]=s(e,n[0])),t.apply(window.console,n)}:o}function u(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){a[t]=e[t]?e[t].bind(e):c(t)}))}var l=function(t){if(!0===t||"object"===n(t)){u(t,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i};r.enableLogs=l;var f=a;r.logger=f},{}],17:[function(e,t,r){(function(e){(function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.createEncoderWithModule=a,r.createFile=i,r.default=void 0;var n=function(){var r="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(n){n=n||{};var o,i;n="undefined"!=typeof n?n:{};n["ready"]=new Promise((function(e,t){o=e,i=t})),n["createEncoder"]=function(e){return a(n,e)};var s,c=Object.assign({},n),u=[],l="object"==("undefined"===typeof window?"undefined":t(window)),f="function"==typeof importScripts,d=("object"==("undefined"===typeof e?"undefined":t(e))&&"object"==t(e.versions)&&e.versions.node,"");function h(e){return n["locateFile"]?n["locateFile"](e,d):d+e}(l||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),r&&(d=r),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});n["print"]||console.log.bind(console);var p=n["printErr"]||console.warn.bind(console);Object.assign(n,c),c=null,n["arguments"]&&(u=n["arguments"]),n["thisProgram"]&&n["thisProgram"],n["quit"]&&n["quit"];var v,y=4;n["wasmBinary"]&&(v=n["wasmBinary"]);var g;n["noExitRuntime"];"object"!=("undefined"===typeof WebAssembly?"undefined":t(WebAssembly))&&K("no native wasm support detected");var m,b,w,E,_,A,T,S,k,R=!1;function x(e,t,r){var n=t+r,o="";while(!(t>=n)){var i=e[t++];if(!i)return o;if(128&i){var a=63&e[t++];if(192!=(224&i)){var s=63&e[t++];if(i=224==(240&i)?(15&i)<<12|a<<6|s:(7&i)<<18|a<<12|s<<6|63&e[t++],i<65536)o+=String.fromCharCode(i);else{var c=i-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&i)<<6|a)}else o+=String.fromCharCode(i)}return o}function O(e,t){return e?x(w,e,t):""}function I(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343){var c=e.charCodeAt(++a);s=65536+((1023&s)<<10)|1023&c}if(s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function P(e,t,r){return I(e,w,t,r)}function D(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}function C(e){m=e,n["HEAP8"]=b=new Int8Array(e),n["HEAP16"]=E=new Int16Array(e),n["HEAP32"]=A=new Int32Array(e),n["HEAPU8"]=w=new Uint8Array(e),n["HEAPU16"]=_=new Uint16Array(e),n["HEAPU32"]=T=new Uint32Array(e),n["HEAPF32"]=S=new Float32Array(e),n["HEAPF64"]=k=new Float64Array(e)}n["INITIAL_MEMORY"];var L,F=[],N=[],M=[];function U(){if(n["preRun"]){"function"==typeof n["preRun"]&&(n["preRun"]=[n["preRun"]]);while(n["preRun"].length)G(n["preRun"].shift())}re(F)}function j(){!0,re(N)}function B(){if(n["postRun"]){"function"==typeof n["postRun"]&&(n["postRun"]=[n["postRun"]]);while(n["postRun"].length)H(n["postRun"].shift())}re(M)}function G(e){F.unshift(e)}function W(e){N.unshift(e)}function H(e){M.unshift(e)}var V=0,z=null,$=null;function q(e){V++,n["monitorRunDependencies"]&&n["monitorRunDependencies"](V)}function Y(e){if(V--,n["monitorRunDependencies"]&&n["monitorRunDependencies"](V),0==V&&(null!==z&&(clearInterval(z),z=null),$)){var t=$;$=null,t()}}function K(e){n["onAbort"]&&n["onAbort"](e),e="Aborted("+e+")",p(e),R=!0,1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}var X,J="data:application/octet-stream;base64,";function Q(e){return e.startsWith(J)}function Z(e){try{if(e==X&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){K(e)}}function ee(){return v||!l&&!f||"function"!=typeof fetch?Promise.resolve().then((function(){return Z(X)})):fetch(X,{credentials:"same-origin"}).then((function(e){if(!e["ok"])throw"failed to load wasm binary file at '"+X+"'";return e["arrayBuffer"]()})).catch((function(){return Z(X)}))}function te(){var e={a:xt};function t(e,t){var r=e.exports;n["asm"]=r,g=n["asm"]["x"],C(g.buffer),L=n["asm"]["B"],W(n["asm"]["y"]),Y("wasm-instantiate")}function r(e){t(e["instance"])}function o(t){return ee().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){p("failed to asynchronously prepare wasm: "+e),K(e)}))}function a(){return v||"function"!=typeof WebAssembly.instantiateStreaming||Q(X)||"function"!=typeof fetch?o(r):fetch(X,{credentials:"same-origin"}).then((function(t){var n=WebAssembly.instantiateStreaming(t,e);return n.then(r,(function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),o(r)}))}))}if(q("wasm-instantiate"),n["instantiateWasm"])try{var s=n["instantiateWasm"](e,t);return s}catch(a){p("Module.instantiateWasm callback failed with error: "+a),i(a)}return a().catch(i),{}}function re(e){while(e.length>0)e.shift()(n)}function ne(e,t,r,n){K("Assertion failed: "+O(e)+", at: "+[t?O(t):"unknown filename",r,n?O(n):"unknown function"])}function oe(e,t,r,n,o){}function ie(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function ae(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);se=e}X="mp4-encoder.wasm",Q(X)||(X=h(X));var se=void 0;function ce(e){var t="",r=e;while(w[r])t+=se[w[r++]];return t}var ue={},le={},fe={},de=48,he=57;function pe(e){if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=de&&t<=he?"_"+e:e}function ve(e,t){return e=pe(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function ye(e,t){var r=ve(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var ge=void 0;function me(e){throw new ge(e)}var be=void 0;function we(e){throw new be(e)}function Ee(e,t,r){function n(t){var n=r(t);n.length!==e.length&&we("Mismatched type converter count");for(var o=0;o<e.length;++o)_e(e[o],n[o])}e.forEach((function(e){fe[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){le.hasOwnProperty(e)?o[t]=le[e]:(i.push(e),ue.hasOwnProperty(e)||(ue[e]=[]),ue[e].push((function(){o[t]=le[e],++a,a===i.length&&n(o)})))})),0===i.length&&n(o)}function _e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||me('type "'+n+'" must have a positive integer typeid pointer'),le.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;me("Cannot register type '"+n+"' twice")}if(le[e]=t,delete fe[e],ue.hasOwnProperty(e)){var o=ue[e];delete ue[e],o.forEach((function(e){return e()}))}}function Ae(e,t,r,n,o){var i=ie(r);t=ce(t),_e(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=b;else if(2===r)n=E;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=A}return this["fromWireType"](n[e>>i])},destructorFunction:null})}var Te=[],Se=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ke(e){e>4&&0===--Se[e].refcount&&(Se[e]=void 0,Te.push(e))}function Re(){for(var e=0,t=5;t<Se.length;++t)void 0!==Se[t]&&++e;return e}function xe(){for(var e=5;e<Se.length;++e)if(void 0!==Se[e])return Se[e];return null}function Oe(){n["count_emval_handles"]=Re,n["get_first_emval"]=xe}var Ie={toValue:function(e){return e||me("Cannot use deleted val. handle = "+e),Se[e].value},toHandle:function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Te.length?Te.pop():Se.length;return Se[t]={refcount:1,value:e},t}}};function Pe(e){return this["fromWireType"](A[e>>2])}function De(e,t){t=ce(t),_e(e,{name:t,fromWireType:function(e){var t=Ie.toValue(e);return ke(e),t},toWireType:function(e,t){return Ie.toHandle(t)},argPackAdvance:8,readValueFromPointer:Pe,destructorFunction:null})}function Ce(e,t){switch(t){case 2:return function(e){return this["fromWireType"](S[e>>2])};case 3:return function(e){return this["fromWireType"](k[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Le(e,t,r){var n=ie(r);t=ce(t),_e(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Ce(t,n),destructorFunction:null})}function Fe(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+t(e)+" which is not a function");var n=ve(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var o=new n,i=e.apply(o,r);return i instanceof Object?i:o}function Ne(e){while(e.length){var t=e.pop(),r=e.pop();r(t)}}function Me(e,t,r,n,o){var i=t.length;i<2&&me("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){s=!0;break}var u="void"!==t[0].name,l="",f="";for(c=0;c<i-2;++c)l+=(0!==c?", ":"")+"arg"+c,f+=(0!==c?", ":"")+"arg"+c+"Wired";var d="return function "+pe(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(d+="var destructors = [];\n");var h=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[me,n,o,Ne,t[0],t[1]];a&&(d+="var thisWired = classParam.toWireType("+h+", this);\n");for(c=0;c<i-2;++c)d+="var arg"+c+"Wired = argType"+c+".toWireType("+h+", arg"+c+"); // "+t[c+2].name+"\n",p.push("argType"+c),v.push(t[c+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),d+=(u?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)d+="runDestructors(destructors);\n";else for(c=a?1:2;c<t.length;++c){var y=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(d+=y+"_dtor("+y+"); // "+t[c].name+"\n",p.push(y+"_dtor"),v.push(t[c].destructorFunction))}u&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",p.push(d);var g=Fe(Function,p).apply(null,v);return g}function Ue(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||me("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function je(e,t,r){n.hasOwnProperty(e)?((void 0===r||void 0!==n[e].overloadTable&&void 0!==n[e].overloadTable[r])&&me("Cannot register public name '"+e+"' twice"),Ue(n,e,e),n.hasOwnProperty(r)&&me("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),n[e].overloadTable[r]=t):(n[e]=t,void 0!==r&&(n[e].numArguments=r))}function Be(e,t){for(var r=[],n=0;n<e;n++)r.push(T[t+4*n>>2]);return r}function Ge(e,t,r){n.hasOwnProperty(e)||we("Replacing nonexistant public symbol"),void 0!==n[e].overloadTable&&void 0!==r?n[e].overloadTable[r]=t:(n[e]=t,n[e].argCount=r)}function We(e,t,r){var o=n["dynCall_"+e];return r&&r.length?o.apply(null,[t].concat(r)):o.call(null,t)}var He=[];function Ve(e){var t=He[e];return t||(e>=He.length&&(He.length=e+1),He[e]=t=L.get(e)),t}function ze(e,t,r){if(e.includes("j"))return We(e,t,r);var n=Ve(t).apply(null,r);return n}function $e(e,t){var r=[];return function(){return r.length=0,Object.assign(r,arguments),ze(e,t,r)}}function qe(e,t){function r(){return e.includes("j")?$e(e,t):Ve(t)}e=ce(e);var n=r();return"function"!=typeof n&&me("unknown function pointer with signature "+e+": "+t),n}var Ye=void 0;function Ke(e){var t=Pt(e),r=ce(t);return It(t),r}function Xe(e,t){var r=[],n={};function o(e){n[e]||le[e]||(fe[e]?fe[e].forEach(o):(r.push(e),n[e]=!0))}throw t.forEach(o),new Ye(e+": "+r.map(Ke).join([", "]))}function Je(e,t,r,n,o,i){var a=Be(t,r);e=ce(e),o=qe(n,o),je(e,(function(){Xe("Cannot call "+e+" due to unbound types",a)}),t-1),Ee([],a,(function(r){var n=[r[0],null].concat(r.slice(1));return Ge(e,Me(e,n,null,o,i),t-1),[]}))}function Qe(e,t,r){switch(t){case 0:return r?function(e){return b[e]}:function(e){return w[e]};case 1:return r?function(e){return E[e>>1]}:function(e){return _[e>>1]};case 2:return r?function(e){return A[e>>2]}:function(e){return T[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Ze(e,t,r,n,o){t=ce(t),-1===o&&(o=4294967295);var i=ie(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var c,u=t.includes("unsigned"),l=function(e,t){};c=u?function(e,t){return l(t,this.name),t>>>0}:function(e,t){return l(t,this.name),t},_e(e,{name:t,fromWireType:a,toWireType:c,argPackAdvance:8,readValueFromPointer:Qe(t,i,0!==n),destructorFunction:null})}function et(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],o=n[t];function i(e){e>>=2;var t=T,r=t[e],n=t[e+1];return new o(m,n,r)}r=ce(r),_e(e,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})}function tt(e,t){t=ce(t);var r="std::string"===t;_e(e,{name:t,fromWireType:function(e){var t,n=T[e>>2],o=e+4;if(r)for(var i=o,a=0;a<=n;++a){var s=o+a;if(a==n||0==w[s]){var c=s-i,u=O(i,c);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),i=s+1}}else{var l=new Array(n);for(a=0;a<n;++a)l[a]=String.fromCharCode(w[o+a]);t=l.join("")}return It(e),t},toWireType:function(e,t){var n;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var o="string"==typeof t;o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||me("Cannot pass non-string to std::string"),n=r&&o?D(t):t.length;var i=Ot(4+n+1),a=i+4;if(T[i>>2]=n,r&&o)P(t,a,n+1);else if(o)for(var s=0;s<n;++s){var c=t.charCodeAt(s);c>255&&(It(a),me("String has UTF-16 code units that do not fit in 8 bits")),w[a+s]=c}else for(s=0;s<n;++s)w[a+s]=t[s];return null!==e&&e.push(It,i),i},argPackAdvance:8,readValueFromPointer:Pe,destructorFunction:function(e){It(e)}})}function rt(e,t){for(var r="",n=0;!(n>=t/2);++n){var o=E[e+2*n>>1];if(0==o)break;r+=String.fromCharCode(o)}return r}function nt(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;r-=2;for(var n=t,o=r<2*e.length?r/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);E[t>>1]=a,t+=2}return E[t>>1]=0,t-n}function ot(e){return 2*e.length}function it(e,t){var r=0,n="";while(!(r>=t/4)){var o=A[e+4*r>>2];if(0==o)break;if(++r,o>=65536){var i=o-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(o)}return n}function at(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343){var s=e.charCodeAt(++i);a=65536+((1023&a)<<10)|1023&s}if(A[t>>2]=a,t+=4,t+4>o)break}return A[t>>2]=0,t-n}function st(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function ct(e,t,r){var n,o,i,a,s;r=ce(r),2===t?(n=rt,o=nt,a=ot,i=function(){return _},s=1):4===t&&(n=it,o=at,a=st,i=function(){return T},s=2),_e(e,{name:r,fromWireType:function(e){for(var r,o=T[e>>2],a=i(),c=e+4,u=0;u<=o;++u){var l=e+4+u*t;if(u==o||0==a[l>>s]){var f=l-c,d=n(c,f);void 0===r?r=d:(r+=String.fromCharCode(0),r+=d),c=l+t}}return It(e),r},toWireType:function(e,n){"string"!=typeof n&&me("Cannot pass non-string to C++ string type "+r);var i=a(n),c=Ot(4+i+t);return T[c>>2]=i>>s,o(n,c+4,i+t),null!==e&&e.push(It,c),c},argPackAdvance:8,readValueFromPointer:Pe,destructorFunction:function(e){It(e)}})}function ut(e,t){t=ce(t),_e(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function lt(e,t){var r=le[e];return void 0===r&&me(t+" has unknown type "+Ke(e)),r}function ft(e,t,r){e=Ie.toValue(e),t=lt(t,"emval::as");var n=[],o=Ie.toHandle(n);return T[r>>2]=o,t["toWireType"](n,e)}function dt(e,t){for(var r=new Array(e),n=0;n<e;++n)r[n]=lt(T[t+n*y>>2],"parameter "+n);return r}function ht(e,t,r,n){e=Ie.toValue(e);for(var o=dt(t,r),i=new Array(t),a=0;a<t;++a){var s=o[a];i[a]=s["readValueFromPointer"](n),n+=s["argPackAdvance"]}var c=e.apply(void 0,i);return Ie.toHandle(c)}function pt(e,t){return e=Ie.toValue(e),t=Ie.toValue(t),Ie.toHandle(e[t])}function vt(e){e>4&&(Se[e].refcount+=1)}function yt(e){return e=Ie.toValue(e),"number"==typeof e}var gt={};function mt(e){var t=gt[e];return void 0===t?ce(e):t}function bt(e){return Ie.toHandle(mt(e))}function wt(e){var t=Ie.toValue(e);Ne(t),ke(e)}function Et(e,t){e=lt(e,"_emval_take_value");var r=e["readValueFromPointer"](t);return Ie.toHandle(r)}function _t(){K("")}function At(e,t,r){w.copyWithin(e,t,t+r)}function Tt(){return 2147483648}function St(e){try{return g.grow(e-m.byteLength+65535>>>16),C(g.buffer),1}catch(e){}}function kt(e){var t=w.length;e>>>=0;var r=Tt();if(e>r)return!1;for(var n=function(e,t){return e+(t-e%t)%t},o=1;o<=4;o*=2){var i=t*(1+.2/o);i=Math.min(i,e+100663296);var a=Math.min(r,n(Math.max(e,i),65536)),s=St(a);if(s)return!0}return!1}ae(),ge=n["BindingError"]=ye(Error,"BindingError"),be=n["InternalError"]=ye(Error,"InternalError"),Oe(),Ye=n["UnboundTypeError"]=ye(Error,"UnboundTypeError");var Rt,xt={a:ne,q:oe,u:Ae,t:De,o:Le,h:Je,d:Ze,c:et,n:tt,l:ct,v:ut,k:ft,w:ht,b:ke,e:pt,g:vt,p:yt,f:bt,j:wt,i:Et,m:_t,s:At,r:kt},Ot=(te(),n["___wasm_call_ctors"]=function(){return(n["___wasm_call_ctors"]=n["asm"]["y"]).apply(null,arguments)},n["_malloc"]=function(){return(Ot=n["_malloc"]=n["asm"]["z"]).apply(null,arguments)}),It=n["_free"]=function(){return(It=n["_free"]=n["asm"]["A"]).apply(null,arguments)},Pt=n["___getTypeName"]=function(){return(Pt=n["___getTypeName"]=n["asm"]["C"]).apply(null,arguments)};n["__embind_initialize_bindings"]=function(){return(n["__embind_initialize_bindings"]=n["asm"]["D"]).apply(null,arguments)},n["dynCall_ijiii"]=function(){return(n["dynCall_ijiii"]=n["asm"]["E"]).apply(null,arguments)};function Dt(e){function t(){Rt||(Rt=!0,n["calledRun"]=!0,R||(j(),o(n),n["onRuntimeInitialized"]&&n["onRuntimeInitialized"](),B()))}e=e||u,V>0||(U(),V>0||(n["setStatus"]?(n["setStatus"]("Running..."),setTimeout((function(){setTimeout((function(){n["setStatus"]("")}),1),t()}),1)):t()))}if($=function e(){Rt||Dt(),Rt||($=e)},n["preInit"]){"function"==typeof n["preInit"]&&(n["preInit"]=[n["preInit"]]);while(n["preInit"].length>0)n["preInit"].pop()()}return Dt(),n.ready}}(),o=n;function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,t=0,r=0,n=new Uint8Array(e);return{contents:function(){return n.slice(0,r)},seek:function(e){t=e},write:function(e){var i=e.byteLength;return o(t+i),n.set(e,t),t+=i,r=Math.max(r,t),i}};function o(e){var t=n.length;if(!(t>=e)){var o=1048576;e=Math.max(e,t*(t<o?2:1.125)>>>0),0!=t&&(e=Math.max(e,256));var i=n;n=new Uint8Array(e),r>0&&n.set(i.subarray(0,r),0)}}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,n=t.height,o=t.fps,a=void 0===o?30:o,s=t.fragmentation,c=void 0!==s&&s,u=t.sequential,l=void 0!==u&&u,f=t.hevc,d=void 0!==f&&f;if("number"!==typeof r||"number"!==typeof n)throw new Error("Must specify { width, height } options");if(!isFinite(r)||r<0||!isFinite(n)||n<0)throw new Error("{ width, height } options must be positive integers");var h=i(),p=e.create_muxer({width:r,height:n,fps:a,fragmentation:c,sequential:l,hevc:d},v);return{end:function(){return e.finalize_muxer(p),h.contents()},addNalu:function(t){var r=e._malloc(t.byteLength);e.HEAPU8.set(t,r),e.mux_nal(p,r,t.byteLength),e._free(r)}};function v(t,r,n){h.seek(n);var o=e.HEAPU8.subarray(t,t+r);return h.write(o)!==o.byteLength}}r.default=o,n.createFile=i}).call(this)}).call(this,e("_process"))},{_process:2}],18:[function(e,t,r){"use strict";"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){var r=new Uint8Array(this);void 0===t&&(t=r.length);for(var n=new ArrayBuffer(t-e),o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i+e];return n})},{}],19:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=function(){function e(t){n(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return i(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"loadHead",value:function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay;var n=new XMLHttpRequest;n.open("head",e.url),n.onload=function(){r.onSuccess(n.getResponseHeader("content-length"))},n.send()}},{key:"load",value:function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e="undefined"!==typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,e.onloadend=this.loadend.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var r=this.stats;r.tfirst=0,r.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"loadend",value:function(e){var t=e.currentTarget,r=t.status,n=this.stats,o=this.context,i=this.config;if(!n.aborted)if(window.clearTimeout(this.requestTimeout),r>=200&&r<300){var a,s;n.tload=Math.max(n.tfirst,performance.now()),"arraybuffer"===o.responseType?(a=t.response,s=a.byteLength):(a=t.responseText,s=a.length),n.loaded=n.total=s;var c={url:t.responseURL,data:a};this.callbacks.onSuccess(c,n,o)}else n.retry>=i.maxRetry||r>=400&&r<499?this.callbacks.onError({code:r,text:t.statusText},o):(this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),n.retry++)}},{key:"loadtimeout",value:function(){this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;0===t.tfirst&&(t.tfirst=Math.max(performance.now(),t.trequest)),t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var r=this.callbacks.onProgress;r&&r(t,this.context,null)}}]),e}(),s=a;r.default=s},{}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("./errors"),o=l(e("./events")),i=l(e("./controller/flow-controller")),a=l(e("./controller/buffer-controller")),s=l(e("events")),c=l(e("./utils/xhr-loader")),u=(l(e("./loader/file-loader")),l(e("./loader/websocket-loader")));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e);var r=e.DefaultConfig;for(var n in r)n in t||(t[n]=r[n]);this.config=t;var o=this.observer=new s.default;o.trigger=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit.apply(o,[e,e].concat(r))},o.off=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.removeListener.apply(o,[e].concat(r))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o),this.flowController=new i.default(this),this.bufferController=new a.default(this),this.websocketLoader=new u.default(this),this.mediaType=void 0,this.extraData=void 0}return h(e,[{key:"destroy",value:function(){console.log("wfs destroy +++"),this.flowController.destroy(),this.bufferController.destroy(),this.websocketLoader.destroy(),console.log("wfs destroy ---")}},{key:"attachMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"chX",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"H264Raw",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"play2",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.mediaType=r,this.media=e,this.extraData=i;var a=void 0;switch(r){case"MJPEG":a=o.default.MEDIA_ATTACHED;break;case"H264Raw":default:a=o.default.MEDIA_ATTACHING;break}this.trigger(a,{media:e,channelName:t,mediaType:r,websocketName:n,extraData:this.extraData})}},{key:"attachWebsocket",value:function(e,t,r){this.trigger(o.default.WEBSOCKET_ATTACHING,{websocket:e,websocketName:t,media:this.media,mediaType:this.mediaType,channelName:r,extraData:this.extraData})}},{key:"start_recording",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1073741824,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.trigger(o.default.RECORDING_START,{rec_file_threshold:e,result_cb:t,state_cb:r})}},{key:"playerSeekNow",value:function(){this.trigger(o.default.PLAYER_SEEK_NOW)}},{key:"stop_recording",value:function(){this.trigger(o.default.RECORDING_STOP)}}],[{key:"version",get:function(){return"v.0.0.0.1"}},{key:"isSupported",value:function(){return window.MediaSource&&"function"===typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42c01f,mp4a.40.2"')}},{key:"Events",get:function(){return o.default}},{key:"ErrorTypes",get:function(){return n.ErrorTypes}},{key:"ErrorDetails",get:function(){return n.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,debug:!1,fLoader:void 0,loader:c.default,fmp4FileUrl:"xxxx.mp4",fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,forceKeyFrameOnDiscontinuity:!0,appendErrorMaxRetry:3,wsMinPacketInterval:3e3,wsMaxPacketInterval:3e4,mp4Duration:1e3}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),e}(),v=p;r.default=v},{"./controller/buffer-controller":3,"./controller/flow-controller":4,"./errors":7,"./events":9,"./loader/file-loader":12,"./loader/websocket-loader":13,"./utils/xhr-loader":19,events:1}]},{},[11])(11)}))},d139:function(e,t,r){"use strict";var n=r("ebb5"),o=r("b727").find,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},d58f:function(e,t,r){var n=r("1c0b"),o=r("7b0b"),i=r("44ad"),a=r("50c4"),s=function(e){return function(t,r,s,c){n(r);var u=o(t),l=i(u),f=a(u.length),d=e?f-1:0,h=e?-1:1;if(s<2)while(1){if(d in l){c=l[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in l&&(c=r(c,l[d],d,u));return c}};e.exports={left:s(!1),right:s(!0)}},d5d6:function(e,t,r){"use strict";var n=r("ebb5"),o=r("b727").forEach,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),o=r("d039"),i=r("b622"),a=r("9263"),s=r("9112"),c=i("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),h=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var p=i(e),v=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),y=v&&!o((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!v||!y||"replace"===e&&(!u||!l||d)||"split"===e&&!h){var g=/./[p],m=r(p,""[e],(function(e,t,r,n,o){return t.exec===a?v&&!o?{done:!0,value:g.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=m[0],w=m[1];n(String.prototype,e,b),n(RegExp.prototype,p,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},d81d:function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").map,i=r("1dde"),a=r("ae40"),s=i("map"),c=a("map");n({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},e58c:function(e,t,r){"use strict";var n=r("fc6a"),o=r("a691"),i=r("50c4"),a=r("a640"),s=r("ae40"),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),d=s("indexOf",{ACCESSORS:!0,1:0}),h=l||!f||!d;e.exports=h?function(e){if(l)return u.apply(this,arguments)||0;var t=n(this),r=i(t.length),a=r-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:u},e6c4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"preview_capture_container"},[r("el-main",{staticClass:"preview_capture_left_container"},[r("el-container",{staticClass:"preview_container"},[r("el-main",{ref:"axMain",staticClass:"video_container"},[r("video",{ref:"axVideoRef",staticClass:"axVideo",attrs:{id:"myVideo",autoplay:"",muted:"",playsinline:"",oncontextmenu:"return false;"},domProps:{muted:!0}})]),r("el-footer",{staticClass:"video_controls_container",attrs:{height:"40px"}},[r("div",{staticClass:"left_controls_container"},[r("div",{staticClass:"size_option"},[r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.changeSizeOption}},[r("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[e._v(e._s(e.sizeOptions[e.sizeOptionInd].label))]),r("el-dropdown-menu",{attrs:{slot:"dropdown","append-to-body":!1},slot:"dropdown"},e._l(e.sizeOptions,(function(t){return r("el-dropdown-item",{key:t.id,attrs:{command:t.id+"",icon:t.icon}},[e._v(e._s(t.label))])})),1)],1)],1),r("div",[r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.changeStream}},[r("el-button",{staticClass:"el-dropdown-link",attrs:{type:"text"}},[e._v(e._s(e.streamOptions[e.streamOptionInd].label))]),r("el-dropdown-menu",{attrs:{slot:"dropdown","append-to-body":!1},slot:"dropdown"},e._l(e.streamOptions,(function(t){return r("el-dropdown-item",{key:t.id,attrs:{command:t.id+"",icon:t.icon}},[e._v(e._s(t.label))])})),1)],1)],1),r("div",{staticClass:"size_info"},[r("span",[e._v(e._s(this.enc_info))])])]),r("div",{staticClass:"right_controls_container"},[r("div",{staticClass:"draw_option"},[r("el-tooltip",{attrs:{effect:"dark",content:"录入人像信息",placement:"top-end",enterable:!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.isSearchImg,expression:"isSearchImg == true"}],class:{draw_button_enable:!0,draw_button_disable:!1},attrs:{icon:"el-icon-picture"},on:{click:e.recordFaceinfo}})],1)],1),r("div",{staticClass:"draw_option"},[r("el-tooltip",{attrs:{effect:"dark",content:e.isRecStart?"停止录像":"开启录像",placement:"top-end",enterable:!1}},[r("el-button",{class:{draw_button_enable:!e.isRecStart,draw_button_disable:e.isRecStart},attrs:{disabled:!1===e.rec_enable,icon:"el-icon-video-camera-solid"},on:{click:e.onRecording}})],1)],1),r("div",{staticClass:"draw_option"},[r("el-tooltip",{attrs:{effect:"dark",content:e.isEnableNr?"关闭AI-3DNR":"开启AI-3DNR",placement:"top-end",enterable:!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],class:{draw_button_enable:e.isEnableNr,draw_button_disable:!e.isEnableNr},attrs:{icon:"el-icon-moon"},on:{click:e.changeNrEnable}})],1)],1),r("div",{staticClass:"draw_option"},[r("el-tooltip",{attrs:{effect:"dark",content:e.isTrackImg?"关闭推图":"开启推图",placement:"top-end",enterable:!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],class:{draw_button_enable:e.isTrackImg,draw_button_disable:!e.isTrackImg},attrs:{icon:"el-icon-view"},on:{click:e.changeTrackImg}})],1)],1),r("div",{staticClass:"draw_option"},[r("el-tooltip",{attrs:{effect:"dark",content:e.isShowRect?"隐藏检测框":"显示检测框",placement:"top-end",enterable:!1}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],class:{draw_button_enable:e.isShowRect,draw_button_disable:!e.isShowRect},attrs:{icon:"el-icon-full-screen"},on:{click:e.changeShowRect}})],1)],1),r("div",{staticClass:"full_option"},[r("el-tooltip",{attrs:{effect:"dark",content:e.isFullScreen?"退出全屏":"进入全屏",placement:"top-end",enterable:!1}},[r("el-button",{staticClass:"full_button",attrs:{icon:e.screenIcon},on:{click:e.doScreen}})],1)],1)])])],1)],1),r("el-aside",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"capture_container",attrs:{width:"315px"}},e._l(e.image_count,(function(t){return r("el-row",{key:t},[r("el-col",{class:{col_left:t!=e.image_count,col_left_last:t==e.image_count},attrs:{span:10}},[r("el-image",{attrs:{src:e.captureImages_0[t-1].src,"preview-src-list":[e.captureImages_0[t-1].src],fit:"fill"}},[r("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[r("i",{staticClass:"el-icon-picture-outline"})])])],1),r("el-col",{class:{col_right:t!=e.image_count,col_right_last:t==e.image_count},attrs:{span:10}},[r("el-image",{attrs:{src:e.captureImages_1[t-1].src,"preview-src-list":[e.captureImages_1[t-1].src],fit:"fill"}},[r("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[r("i",{staticClass:"el-icon-picture-outline"})])])],1)],1)})),1)],1)},o=[],i=(r("a4d3"),r("e01a"),r("a9e3"),r("96cf"),r("1da1")),a=r("d022"),s=r.n(a),c=r("93bf"),u=r.n(c),l={data:function(){return{image_count:16,captureImages_0:[],captureImages_1:[],sizeOptions:[{id:0,label:"自适应",value:"0:0",icon:"el-icon-full-screen"},{id:1,label:"原比例",value:"1:1",icon:"el-icon-full-screen"}],srcOptions:[{id:0,label:"视频源0",icon:"el-icon-full-screen"},{id:1,label:"视频源1",icon:"el-icon-full-screen"}],streamOptions:[{id:0,label:"主码流0",icon:"el-icon-full-screen"},{id:1,label:"子码流1",icon:"el-icon-full-screen"},{id:2,label:"子码流2",icon:"el-icon-full-screen"},{id:3,label:"子码流3",icon:"el-icon-full-screen"}],screenIcon:"vjs-icon-fullscreen-enter",sizeOptionInd:0,srcOptionInd:0,streamOptionInd:0,rec_enable:!0,isDetect:!1,isTrackImg:!1,isShowRect:!1,isSearchImg:!1,isEnableNr:!0,isFullScreen:!1,isRecStart:!1,isError:!1,wfsObj:null,isForceStop:!1,wsCapture:[null,null],timer_capture:[void 0,void 0],lastRecvDataTime:[0,0],curImgInd:[0,0],max_try_num:3,enc_info:"",timer_enc_info:void 0}},created:function(){this.getInfo();var e=window.localStorage.getItem("stream");this.streamOptionInd="0"===e?0:"1"===e?1:"2"===e?2:"3"===e?3:0,e=window.localStorage.getItem("src_id"),this.srcOptionInd="1"===e?1:0,e=window.localStorage.getItem("size"),this.sizeOptionInd="1"===e?1:0;for(var t=0;t<this.image_count;t++)this.captureImages_0.push({src:"",date:""}),this.captureImages_1.push({src:"",date:""})},mounted:function(){var e=this,t=this;u.a.isEnabled&&u.a.on("change",(function(){t.checkFull()})),this.startMedia(),document.addEventListener("visibilitychange",(function(){e.wfsObj&&e.wfsObj.playerSeekNow()}))},destroyed:function(){this.stopMedia()},methods:{startMedia:function(){this.startPlay();for(var e=0;e<2;e++)this.startCapture(e);this.startRecvEvents()},stopMedia:function(){this.isForceStop=!0,this.stopEncInfoQuery(),this.stop();for(var e=0;e<2;e++)this.stopCatpure(e);this.stopRecvEvents(),u.a.off("change",(function(){}))},startPreview:function(){this.startPlay();for(var e=0;e<2;e++)this.startCapture(e)},stopPreview:function(){this.isForceStop=!0,this.stopEncInfoQuery(),this.stop();for(var e=0;e<2;e++)this.stopCatpure(e)},startPlay:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=!1,n=0;case 2:if(!(n<e.max_try_num)){t.next=19;break}if(!r){t.next=5;break}return t.abrupt("break",19);case 5:return t.prev=5,t.next=8,e.changeStream(e.streamOptionInd+"",!1,!1);case 8:e.play(),r=!0,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](5),r=!1,n==e.max_try_num-1&&console.log("startPlay catch except: "+t.t0);case 16:n++,t.next=2;break;case 19:r||e.$message.error("网络请求码流失败");case 20:case"end":return t.stop()}}),t,null,[[5,12]])})))()},play:function(){var e=this;console.log("play ++");try{this.stop(),this.changeSizeOption(this.sizeOptionInd+"");var t=window.sessionStorage.getItem("token"),r=document.getElementById("myVideo"),n=r,o="H264Raw";s.a.isSupported()?(this.wfsObj=new s.a,this.wfsObj.attachMedia(n,"ch1",o,"ws/preview?token="+t),this.wfsObj.on(s.a.Events.ERROR,(function(t,r){return e.handleWfsEvent(t,r)})),this.isRecStart&&(this.isRecStart=!1,this.onRecording()),this.startEncInfoQuery()):console.log("wfs is not supported")}catch(i){console.log("play catch except: "+i)}console.log("play --")},stop:function(){console.log("stop ++"),null!=this.wfsObj&&(this.isRecStart&&(this.wfsObj.stop_recording(),this.isError||(this.isRecStart=!1)),this.wfsObj.destroy(),this.wfsObj=null),console.log("stop --")},changeSizeOption:function(e){this.sizeOptionInd=Number(e),0===this.sizeOptionInd?document.getElementById("myVideo").style.setProperty("object-fit","fill","important"):document.getElementById("myVideo").style.setProperty("object-fit","contain","important"),console.log("old objectFit: ",document.getElementById("myVideo").style.objectFit),window.localStorage.setItem("size",this.sizeOptionInd)},changeStream:function(e){var t=arguments,r=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var o,i,a,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=!(t.length>1&&void 0!==t[1])||t[1],i=!(t.length>2&&void 0!==t[2])||t[2],a=Number(e),console.log("change stream to "+r.streamOptions[a].id),n.next=6,r.$http.post("preview/stream",{src:r.srcOptions[r.srcOptionInd].id,stream:r.streamOptions[a].id});case 6:if(s=n.sent,c=s.data,console.log("post stream return: ",c),c&&200===c.meta.status){n.next=11;break}return n.abrupt("return",r.$message.error("设置码流失败"));case 11:i&&(r.streamOptionInd=a,window.localStorage.setItem("src_id",r.srcOptions[r.srcOptionInd].id),window.localStorage.setItem("stream",r.streamOptions[a].id)),o&&r.play();case 13:case"end":return n.stop()}}),n)})))()},changeSrc:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.srcOptionInd=Number(e),console.log("changeSrc, srcOptionInd: "+t.srcOptionInd),r.next=4,t.changeStream(t.streamOptionInd+"");case 4:case"end":return r.stop()}}),r)})))()},changeShowRect:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,o,i,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=!(e.length>0&&void 0!==e[0])||e[0],!n){r.next=14;break}return console.log("show rect:"+!t.isShowRect),r.next=5,t.$http.post("preview/showrect",{showrect:!t.isShowRect});case 5:if(o=r.sent,i=o.data,console.log("post showrect return: ",i),200===i.meta.status){r.next=10;break}return r.abrupt("return",t.$message.error("设置画框失败"));case 10:t.isShowRect=!t.isShowRect,window.localStorage.setItem("showrect",t.isShowRect),r.next=22;break;case 14:return console.log("show rect:"+t.isShowRect),r.next=17,t.$http.post("preview/showrect",{showrect:t.isShowRect});case 17:if(a=r.sent,s=a.data,console.log("post showrect return: ",s),200===s.meta.status){r.next=22;break}return r.abrupt("return",t.$message.error("设置画框失败"));case 22:case"end":return r.stop()}}),r)})))()},changeTrackImg:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,o,i,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=!(e.length>0&&void 0!==e[0])||e[0],!n){r.next=14;break}return console.log("track img:"+!t.isTrackImg),r.next=5,t.$http.post("preview/trackimg",{trackimg:!t.isTrackImg});case 5:if(o=r.sent,i=o.data,console.log("post trackimg return: ",i),200===i.meta.status){r.next=10;break}return r.abrupt("return",t.$message.error("设置推图状态失败"));case 10:t.isTrackImg=!t.isTrackImg,window.localStorage.setItem("trackimg",t.isTrackImg),r.next=22;break;case 14:return console.log("track img:"+t.isTrackImg),r.next=17,t.$http.post("preview/trackimg",{trackimg:t.isTrackImg});case 17:if(a=r.sent,s=a.data,console.log("post trackimg return: ",s),200===s.meta.status){r.next=22;break}return r.abrupt("return",t.$message.error("设置推图状态失败"));case 22:case"end":return r.stop()}}),r)})))()},changeNrEnable:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,o,i,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=!(e.length>0&&void 0!==e[0])||e[0],!n){r.next=14;break}return console.log("enable nr:"+!t.isEnableNr),r.next=5,t.$http.post("preview/nr",{nr:!t.isEnableNr});case 5:if(o=r.sent,i=o.data,console.log("post enable nr return: ",i),200===i.meta.status){r.next=10;break}return r.abrupt("return",t.$message.error("设置NR状态失败"));case 10:t.isEnableNr=!t.isEnableNr,window.localStorage.setItem("nr",t.isEnableNr),r.next=22;break;case 14:return console.log("enable nr:"+t.isEnableNr),r.next=17,t.$http.post("preview/nr",{nr:t.isEnableNr});case 17:if(a=r.sent,s=a.data,console.log("post enable nr return: ",s),200===s.meta.status){r.next=22;break}return r.abrupt("return",t.$message.error("设置NR状态失败"));case 22:case"end":return r.stop()}}),r)})))()},recordFaceinfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("record faceinfo"),e.stop(),t.next=4,e.$http.post("preview/faceinfo",{faceinfo:!0});case 4:if(r=t.sent,n=r.data,e.play(),console.log("post record faceinfo: ",n),200===n.meta.status){t.next=12;break}return t.abrupt("return",e.$message.error("人像信息录入失败"));case 12:if(0!=n.data.faceinfo.status){t.next=16;break}return t.abrupt("return",e.$message.success("人像信息录入成功"));case 16:if(2!=n.data.faceinfo.status){t.next=20;break}return t.abrupt("return",e.$message.warning("不支持此功能"));case 20:if(3!=n.data.faceinfo.status){t.next=24;break}return t.abrupt("return",e.$message.warning("数据加载中，请稍后再试"));case 24:return t.abrupt("return",e.$message.error("人像信息录入失败，请重试"));case 25:case"end":return t.stop()}}),t)})))()},getInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("preview/info");case 3:r=t.sent,n=r.data,console.log("preview info get return: ",n),200===n.meta.status&&(e.isDetect=n.data.info.detection,e.isShowRect=n.data.info.showrect,e.isSearchImg=n.data.info.searchimg,e.isTrackImg=n.data.info.trackimg),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$message.error("获取信息失败");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},rec_result_cb:function(e){this.rec_enable=!0,e?this.isRecStart=!0:this.$message.error("开启录像失败")},rec_state_cb:function(e){this.rec_enable=e},onRecording:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.wfsObj&&(e.isRecStart?(e.wfsObj.stop_recording(),e.isRecStart=!1):(e.rec_enable=!1,r=window.localStorage.getItem("rec_threshold_web"),void 0==r&&(r=1024),console.log("recording - threshold: "+r+" MB"),e.wfsObj.start_recording(1024*r*1024,e.rec_result_cb,e.rec_state_cb)));case 1:case"end":return t.stop()}}),t)})))()},getEncInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("preview/assist");case 3:r=t.sent,n=r.data,console.log("preview enc info get return: ",n),200===n.meta.status&&(e.enc_info=n.data.assist_res+"  "+n.data.assist_bitrate),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$message.error("获取信息失败");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},startEncInfoQuery:function(){var e=this;this.stopEncInfoQuery(),this.timer_enc_info=setInterval((function(){e.getEncInfo()}),1e3)},stopEncInfoQuery:function(){this.timer_enc_info&&(clearInterval(this.timer_enc_info),this.timer_enc_info=void 0)},doScreen:function(){var e=document.getElementsByClassName("preview_container")[0];this.isFullScreen?(u.a.exit(e),this.screenIcon="vjs-icon-fullscreen-enter"):(u.a.request(e),this.screenIcon="vjs-icon-fullscreen-exit"),this.isFullScreen=!this.isFullScreen},checkFull:function(){u.a.isFullscreen||(this.isFullScreen=!1,this.screenIcon="vjs-icon-fullscreen-enter")},scaleVideoTo16vs9:function(){var e=document.getElementById("myVideo");console.log("videoRatio:"+e.videoWidth+"/"+e.videoHeight)},handleWfsEvent:function(e,t){try{if(t.fatal){switch(this.isError=!0,console.warn("Fatal error :"+t.details),t.type){case s.a.ErrorTypes.MEDIA_ERROR:console.log("a media error occurred");break;case s.a.ErrorTypes.NETWORK_ERROR:console.log("a network error occurred");break;default:console.log("an unrecoverable error occurred");break}this.play()}}catch(r){console.log("handleWfsEvent catch except: "+r.description)}},startCapture:function(e){var t=this;this.stopCatpure(e);var r=window.sessionStorage.getItem("token"),n="ws://"+window.location.host+"/ws/capture_"+e+"?token="+r,o="binary";this.wsCapture[e]=new WebSocket(n,o),this.wsCapture[e].onopen=function(){console.log("ws_"+e+" capture connected"),t.create_capture_timer(e)},this.wsCapture[e].onclose=function(r){console.log("ws_"+e+" capture disconnected",r),t.isForceStop||t.startCapture(e)},this.wsCapture[e].onmessage=function(r){if("string"===typeof r.data)console.log("got a wscapture message: "+r.data);else{t.lastRecvDataTime[e]=performance.now();var n=new FileReader;n.onload=function(r){if(r.target.readyState===FileReader.DONE){var n=r.target.result;0==e?(t.captureImages_0[t.curImgInd[e]].src=n,t.captureImages_0[t.curImgInd[e]].date=t.getCurrentTime(),console.log("curImgInd_0: "+t.curImgInd[e]+", "+t.captureImages_0[t.curImgInd[e]].date),t.curImgInd[e]=(t.curImgInd[e]+1)%t.captureImages_0.length):(t.captureImages_1[t.curImgInd[e]].src=n,t.captureImages_1[t.curImgInd[e]].date=t.getCurrentTime(),console.log("curImgInd_1: "+t.curImgInd[e]+", "+t.captureImages_1[t.curImgInd[e]].date),t.curImgInd[e]=(t.curImgInd[e]+1)%t.captureImages_1.length)}},n.readAsDataURL(r.data)}},this.wsCapture[e].onerror=function(t){console.log("ws_"+e+" capture occure error",t)}},stopCatpure:function(e){this.clear_capture_timer(e),this.wsCapture[e]&&this.wsCapture[e].close()},create_capture_timer:function(e){var t=this;this.clear_capture_timer(e),this.timer_capture[e]=setInterval((function(){t.wsCapture[e]&&t.wsCapture[e].send("keep-alive")}),3e3)},clear_capture_timer:function(e){this.timer_capture[e]&&(clearInterval(this.timer_capture[e]),this.timer_capture[e]=void 0)},getCurrentTime:function(){var e=new Date,t=this.zeroFill(e.getMonth()+1),r=this.zeroFill(e.getDate()),n=this.zeroFill(e.getHours()),o=this.zeroFill(e.getMinutes()),i=this.zeroFill(e.getSeconds()),a=e.getMilliseconds();a<=9?a="00"+a:a<=99&&(a="0"+a);var s=e.getFullYear()+"-"+t+"-"+r+"_"+n+"-"+o+"-"+i+"."+a;return s},zeroFill:function(e){return e>=0&&e<=9?"0"+e:e},startRecvEvents:function(){var e=this;console.log("startRecvEvents ++"),this.stopRecvEvents();var t=window.sessionStorage.getItem("token"),r="ws://"+window.location.host+"/ws/events?token="+t,n="binary";this.wsEvents=new WebSocket(r,n),this.wsEvents.onopen=function(){console.log("ws events connected"),e.createEventstimer()},this.wsEvents.onclose=function(t){console.log("ws events disconnected",t),e.isForceStop||e.startRecvEvents()},this.wsEvents.onmessage=function(t){if("string"===typeof t.data)console.log("got a ws events message: "+t.data);else try{var r=new FileReader;r.onload=function(t){if(t.target.readyState===FileReader.DONE){console.log("got a event: "+t.target.result);for(var r=JSON.parse(t.target.result),n=0;n<r.events.length;n++)0===r.events[n].type&&(e.stopPreview(),e.startPreview())}},r.readAsText(t.data)}catch(n){console.log("ws events catch except: "+n)}},this.wsEvents.onerror=function(e){console.log("ws events occure error",e)},console.log("startRecvEvents --")},stopRecvEvents:function(){console.log("stopRecvEvents ++"),this.clearEventstimer(),this.wsEvents&&this.wsEvents.close(),console.log("stopRecvEvents --")},createEventstimer:function(){var e=this;this.clearEventstimer(),this.timerEvents=setInterval((function(){e.wsEvents&&e.wsEvents.send("keep-alive")}),3e3)},clearEventstimer:function(){this.timerEvents&&(clearInterval(this.timerEvents),this.timerEvents=void 0)}}},f=l,d=(r("bc13"),r("2877")),h=Object(d["a"])(f,n,o,!1,null,"64de5703",null);t["default"]=h.exports},e710:function(e,t,r){},e91f:function(e,t,r){"use strict";var n=r("ebb5"),o=r("4d64").indexOf,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(e,t,r){"use strict";var n,o=r("a981"),i=r("83ab"),a=r("da84"),s=r("861d"),c=r("5135"),u=r("f5df"),l=r("9112"),f=r("6eeb"),d=r("9bf2").f,h=r("e163"),p=r("d2bb"),v=r("b622"),y=r("90e3"),g=a.Int8Array,m=g&&g.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,E=g&&h(g),_=m&&h(m),A=Object.prototype,T=A.isPrototypeOf,S=v("toStringTag"),k=y("TYPED_ARRAY_TAG"),R=o&&!!p&&"Opera"!==u(a.opera),x=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I=function(e){var t=u(e);return"DataView"===t||c(O,t)},P=function(e){return s(e)&&c(O,u(e))},D=function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},C=function(e){if(p){if(T.call(E,e))return e}else for(var t in O)if(c(O,n)){var r=a[t];if(r&&(e===r||T.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},L=function(e,t,r){if(i){if(r)for(var n in O){var o=a[n];o&&c(o.prototype,e)&&delete o.prototype[e]}_[e]&&!r||f(_,e,r?t:R&&m[e]||t)}},F=function(e,t,r){var n,o;if(i){if(p){if(r)for(n in O)o=a[n],o&&c(o,e)&&delete o[e];if(E[e]&&!r)return;try{return f(E,e,r?t:R&&g[e]||t)}catch(s){}}for(n in O)o=a[n],!o||o[e]&&!r||f(o,e,t)}};for(n in O)a[n]||(R=!1);if((!R||"function"!=typeof E||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},R))for(n in O)a[n]&&p(a[n],E);if((!R||!_||_===A)&&(_=E.prototype,R))for(n in O)a[n]&&p(a[n].prototype,_);if(R&&h(w)!==_&&p(w,_),i&&!c(_,S))for(n in x=!0,d(_,S,{get:function(){return s(this)?this[k]:void 0}}),O)a[n]&&l(a[n],k,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:x&&k,aTypedArray:D,aTypedArrayConstructor:C,exportTypedArrayMethod:L,exportTypedArrayStaticMethod:F,isView:I,isTypedArray:P,TypedArray:E,TypedArrayPrototype:_}},f8cd:function(e,t,r){var n=r("a691");e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},fb2c:function(e,t,r){var n=r("74e8");n("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},fd87:function(e,t,r){var n=r("74e8");n("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))}}]);